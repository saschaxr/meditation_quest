import{i as Na,e as al,t as Gl,r as z,c,o as Jt,a as gl,w as Fe,R as ut,h as f,s as Xe,b as Xl,d as Yl,Q as ke,f as hl,g as Je,j as Ct,k as Re,l as Ye,m as bl,n as yl,p as Dt,q as _l,u as _t,v as Zl,x as ea,T as Ea,y as Zt,z as Ue,A as ht,B as C,C as ee,D as r,E as pt,F as V,G as a,H as ue,I as te,J as x,K as D,L as ze,M as wt,N as Vt,O as ta,P as Da,S as at,U as ct,V as We,W as Fa,X as Ua,Y as ol,Z as Sl,_ as wl,$ as Ot,a0 as Gt,a1 as nl,a2 as O,a3 as xa,a4 as Ze,a5 as Ha,a6 as et,a7 as Ll,a8 as Pl,a9 as Wa,aa as yt,ab as Bl,ac as il,ad as Kt,ae as Rt,af as la,ag as aa,ah as xt,ai as ja,aj as rl,ak as it,al as Ka,am as Il,an as Qa,ao as Ja,ap as Ga,aq as Xa,ar as Ya,as as _a,at as sl,au as Za,av as zl,aw as eo,ax as to,ay as lo,az as ao,aA as oo,aB as oa,aC as no}from"./index.74690dbb.js";import{u as io,a as ul,b as Ol,Q as ro,c as Mt,d as qt,e as so,f as uo,g as ft,A as na,h as Nt,i as tt,j as Rl,k as el,l as kl,m as co,n as mo,o as fo,p as dl,q as ce,r as E,s as dt,t as Nl,v as vo,w as po}from"./audioIO.a15ebf0f.js";import{u as go,a as ho,b as bo,c as yo,Q as gt,d as $t,T as ia,t as So,e as wo,f as de,g as ra,h as Cl,i as sa,j as ua,k as da,n as El,l as Dl,m as ko,o as Co}from"./QBadge.3ff8e69d.js";import{_ as Ge}from"./plugin-vue_export-helper.21dcd24c.js";import{K as Fl,Q as ca,a as Vo,J as $o}from"./JitsiContainer.49e9b7e5.js";let Ao=0;const Mo=["click","keydown"],qo={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ao++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function To(e,t,o,i){const n=Na(Gl,al);if(n===al)return console.error("QTab/QRouteTab component needs to be child of QTabs"),al;const{proxy:d}=Je(),s=z(null),l=z(null),m=z(null),h=c(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),y=c(()=>n.currentModel.value===e.name),T=c(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),v=c(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),b=c(()=>e.disable===!0||n.hasFocus.value===!0||y.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function $(S,M){if(M!==!0&&s.value!==null&&s.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&Xe(S);return}if(i===void 0){n.updateModel({name:e.name}),o("click",S);return}if(i.hasRouterLink.value===!0){const _=(R={})=>{let oe;const ye=R.to===void 0||Ct(R.to,e.to)===!0?n.avoidRouteWatcher=io():null;return i.navigateToRouterLink(S,{...R,returnRouterError:!0}).catch(Ce=>{oe=Ce}).then(Ce=>{if(ye===n.avoidRouteWatcher&&(n.avoidRouteWatcher=!1,oe===void 0&&(Ce===void 0||Ce.message!==void 0&&Ce.message.startsWith("Avoided redundant navigation")===!0)&&n.updateModel({name:e.name})),R.returnRouterError===!0)return oe!==void 0?Promise.reject(oe):Ce})};o("click",S,_),S.defaultPrevented!==!0&&_();return}o("click",S)}function F(S){Xl(S,[13,32])?$(S,!0):Yl(S)!==!0&&S.keyCode>=35&&S.keyCode<=40&&S.altKey!==!0&&S.metaKey!==!0&&n.onKbdNavigate(S.keyCode,d.$el)===!0&&Xe(S),o("keydown",S)}function q(){const S=n.tabProps.value.narrowIndicator,M=[],_=f("div",{ref:m,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&M.push(f(ke,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&M.push(f("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&M.push(e.alertIcon!==void 0?f(ke,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):f("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),S===!0&&M.push(_);const R=[f("div",{class:"q-focus-helper",tabindex:-1,ref:s}),f("div",{class:v.value},hl(t.default,M))];return S===!1&&R.push(_),R}const J={name:c(()=>e.name),rootRef:l,tabIndicatorRef:m,routeData:i};Jt(()=>{n.unregisterTab(J)}),gl(()=>{n.registerTab(J)});function G(S,M){const _={ref:l,class:T.value,tabindex:b.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:$,onKeydown:F,...M};return Fe(f(S,_,q()),[[ut,h.value]])}return{renderTab:G,$tabs:n}}var Oe=Re({name:"QTab",props:qo,emits:Mo,setup(e,{slots:t,emit:o}){const{renderTab:i}=To(e,t,o);return()=>i("div")}});let Qt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Qt=e.scrollLeft>=0,e.remove()}function Lo(e,t,o){const i=o===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const Po=["left","center","right","justify"];var At=Re({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Po.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:o}){const{proxy:i}=Je(),{$q:n}=i,{registerTick:d}=ul(),{registerTick:s}=ul(),{registerTick:l}=ul(),{registerTimeout:m,removeTimeout:h}=Ol(),{registerTimeout:y,removeTimeout:T}=Ol(),v=z(null),b=z(null),$=z(e.modelValue),F=z(!1),q=z(!0),J=z(!1),G=z(!1),S=[],M=z(0),_=z(!1);let R=null,oe=null,ye;const Ce=c(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Lo(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Ne=c(()=>{const k=M.value,B=$.value;for(let Q=0;Q<k;Q++)if(S[Q].name.value===B)return!0;return!1}),Le=c(()=>`q-tabs__content--align-${F.value===!0?"left":G.value===!0?"justify":e.align}`),N=c(()=>`q-tabs row no-wrap items-center q-tabs--${F.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ve=c(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Le.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),Ie=c(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),je=c(()=>e.vertical!==!0&&n.lang.rtl===!0),ne=c(()=>Qt===!1&&je.value===!0);Ye(je,A),Ye(()=>e.modelValue,k=>{Ke({name:k,setCurrent:!0,skipEmit:!0})}),Ye(()=>e.outsideArrows,Qe);function Ke({name:k,setCurrent:B,skipEmit:Q}){$.value!==k&&(Q!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",k),(B===!0||e["onUpdate:modelValue"]===void 0)&&(ot($.value,k),$.value=k))}function Qe(){d(()=>{_e({width:v.value.offsetWidth,height:v.value.offsetHeight})})}function _e(k){if(Ie.value===void 0||b.value===null)return;const B=k[Ie.value.container],Q=Math.min(b.value[Ie.value.scroll],Array.prototype.reduce.call(b.value.children,(ge,ie)=>ge+(ie[Ie.value.content]||0),0)),pe=B>0&&Q>B;F.value=pe,pe===!0&&s(A),G.value=B<parseInt(e.breakpoint,10)}function ot(k,B){const Q=k!=null&&k!==""?S.find(ge=>ge.name.value===k):null,pe=B!=null&&B!==""?S.find(ge=>ge.name.value===B):null;if(qe===!0)qe=!1;else if(Q&&pe){const ge=Q.tabIndicatorRef.value,ie=pe.tabIndicatorRef.value;R!==null&&(clearTimeout(R),R=null),ge.style.transition="none",ge.style.transform="none",ie.style.transition="none",ie.style.transform="none";const re=ge.getBoundingClientRect(),Te=ie.getBoundingClientRect();ie.style.transform=e.vertical===!0?`translate3d(0,${re.top-Te.top}px,0) scale3d(1,${Te.height?re.height/Te.height:1},1)`:`translate3d(${re.left-Te.left}px,0,0) scale3d(${Te.width?re.width/Te.width:1},1,1)`,l(()=>{R=setTimeout(()=>{R=null,ie.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ie.style.transform="none"},70)})}pe&&F.value===!0&&p(pe.rootRef.value)}function p(k){const{left:B,width:Q,top:pe,height:ge}=b.value.getBoundingClientRect(),ie=k.getBoundingClientRect();let re=e.vertical===!0?ie.top-pe:ie.left-B;if(re<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(re),A();return}re+=e.vertical===!0?ie.height-ge:ie.width-Q,re>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(re),A())}function A(){const k=b.value;if(k===null)return;const B=k.getBoundingClientRect(),Q=e.vertical===!0?k.scrollTop:Math.abs(k.scrollLeft);je.value===!0?(q.value=Math.ceil(Q+B.width)<k.scrollWidth-1,J.value=Q>0):(q.value=Q>0,J.value=e.vertical===!0?Math.ceil(Q+B.height)<k.scrollHeight:Math.ceil(Q+B.width)<k.scrollWidth)}function W(k){oe!==null&&clearInterval(oe),oe=setInterval(()=>{X(k)===!0&&H()},5)}function se(){W(ne.value===!0?Number.MAX_SAFE_INTEGER:0)}function fe(){W(ne.value===!0?0:Number.MAX_SAFE_INTEGER)}function H(){oe!==null&&(clearInterval(oe),oe=null)}function Z(k,B){const Q=Array.prototype.filter.call(b.value.children,Te=>Te===B||Te.matches&&Te.matches(".q-tab.q-focusable")===!0),pe=Q.length;if(pe===0)return;if(k===36)return p(Q[0]),Q[0].focus(),!0;if(k===35)return p(Q[pe-1]),Q[pe-1].focus(),!0;const ge=k===(e.vertical===!0?38:37),ie=k===(e.vertical===!0?40:39),re=ge===!0?-1:ie===!0?1:void 0;if(re!==void 0){const Te=je.value===!0?-1:1,Pe=Q.indexOf(B)+re*Te;return Pe>=0&&Pe<pe&&(p(Q[Pe]),Q[Pe].focus({preventScroll:!0})),!0}}const Se=c(()=>ne.value===!0?{get:k=>Math.abs(k.scrollLeft),set:(k,B)=>{k.scrollLeft=-B}}:e.vertical===!0?{get:k=>k.scrollTop,set:(k,B)=>{k.scrollTop=B}}:{get:k=>k.scrollLeft,set:(k,B)=>{k.scrollLeft=B}});function X(k){const B=b.value,{get:Q,set:pe}=Se.value;let ge=!1,ie=Q(B);const re=k<ie?-1:1;return ie+=re*5,ie<0?(ge=!0,ie=0):(re===-1&&ie<=k||re===1&&ie>=k)&&(ge=!0,ie=k),pe(B,ie),A(),ge}function Me(k,B){for(const Q in k)if(k[Q]!==B[Q])return!1;return!0}function xe(){let k=null,B={matchedLen:0,queryDiff:9999,hrefLen:0};const Q=S.filter(re=>re.routeData!==void 0&&re.routeData.hasRouterLink.value===!0),{hash:pe,query:ge}=i.$route,ie=Object.keys(ge).length;for(const re of Q){const Te=re.routeData.exact.value===!0;if(re.routeData[Te===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Pe,query:lt,matched:bt,href:w}=re.routeData.resolvedLink.value,U=Object.keys(lt).length;if(Te===!0){if(Pe!==pe||U!==ie||Me(ge,lt)===!1)continue;k=re.name.value;break}if(Pe!==""&&Pe!==pe||U!==0&&Me(lt,ge)===!1)continue;const le={matchedLen:bt.length,queryDiff:ie-U,hrefLen:w.length-Pe.length};if(le.matchedLen>B.matchedLen){k=re.name.value,B=le;continue}else if(le.matchedLen!==B.matchedLen)continue;if(le.queryDiff<B.queryDiff)k=re.name.value,B=le;else if(le.queryDiff!==B.queryDiff)continue;le.hrefLen>B.hrefLen&&(k=re.name.value,B=le)}if(k===null&&S.some(re=>re.routeData===void 0&&re.name.value===$.value)===!0){qe=!1;return}Ke({name:k,setCurrent:!0})}function g(k){if(h(),_.value!==!0&&v.value!==null&&k.target&&typeof k.target.closest=="function"){const B=k.target.closest(".q-tab");B&&v.value.contains(B)===!0&&(_.value=!0,F.value===!0&&p(B))}}function I(){m(()=>{_.value=!1},30)}function j(){$e.avoidRouteWatcher===!1?y(xe):T()}function K(){if(ye===void 0){const k=Ye(()=>i.$route.fullPath,j);ye=()=>{k(),ye=void 0}}}function ve(k){S.push(k),M.value++,Qe(),k.routeData===void 0||i.$route===void 0?y(()=>{if(F.value===!0){const B=$.value,Q=B!=null&&B!==""?S.find(pe=>pe.name.value===B):null;Q&&p(Q.rootRef.value)}}):(K(),k.routeData.hasRouterLink.value===!0&&j())}function Y(k){S.splice(S.indexOf(k),1),M.value--,Qe(),ye!==void 0&&k.routeData!==void 0&&(S.every(B=>B.routeData===void 0)===!0&&ye(),j())}const $e={currentModel:$,tabProps:Ce,hasFocus:_,hasActiveTab:Ne,registerTab:ve,unregisterTab:Y,verifyRouteModel:j,updateModel:Ke,onKbdNavigate:Z,avoidRouteWatcher:!1};_l(Gl,$e);function we(){R!==null&&clearTimeout(R),H(),ye!==void 0&&ye()}let Ee,qe;return Jt(we),bl(()=>{Ee=ye!==void 0,we()}),yl(()=>{Ee===!0&&(K(),qe=!0,j()),Qe()}),()=>f("div",{ref:v,class:N.value,role:"tablist",onFocusin:g,onFocusout:I},[f(ro,{onResize:_e}),f("div",{ref:b,class:Ve.value,onScroll:A},Dt(t.default)),f(ke,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(q.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:se,onTouchstartPassive:se,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H}),f(ke,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(J.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:fe,onTouchstartPassive:fe,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H})])}}),He=Re({name:"QTabPanel",props:go,setup(e,{slots:t}){return()=>f("div",{class:"q-tab-panel",role:"tabpanel"},Dt(t.default))}}),Ft=Re({name:"QTabPanels",props:{...ho,...Mt},emits:bo,setup(e,{slots:t}){const o=Je(),i=qt(e,o.proxy.$q),{updatePanelsList:n,getPanelContent:d,panelDirectives:s}=yo(),l=c(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(t),_t("div",{class:l.value},d(),"pan",e.swipeable,()=>s.value))}});const Bo='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>';var Io=Re({name:"QSpinnerGears",props:Zl,setup(e){const{cSize:t,classes:o}=ea(e);return()=>f("svg",{class:o.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:Bo})}}),ma=Re({name:"QInnerLoading",props:{...Mt,...so,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const o=Je(),i=qt(e,o.proxy.$q),{transitionProps:n,transitionStyle:d}=uo(e),s=c(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),l=c(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function m(){const y=[f(Zt,{size:e.size,color:e.color})];return e.label!==void 0&&y.push(f("div",{class:l.value,style:e.labelStyle},[e.label])),y}function h(){return e.showing===!0?f("div",{class:s.value,style:d.value},t.default!==void 0?t.default():m()):null}return()=>f(Ea,n.value,h)}}),fa=Re({name:"QBar",props:{...Mt,dense:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Je(),i=qt(e,o),n=c(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${i.value===!0?"dark":"light"}`);return()=>f("div",{class:n.value,role:"toolbar"},Dt(t.default))}}),va=Re({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=c(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>f(e.tag,{class:o.value},Dt(t.default))}});const zo=Ue({props:{icon:{type:String,required:!0},title:{type:String,required:!0},hoverShowBar:{type:Boolean,default:!1},transparentOnIdle:{type:Boolean,default:!1},defaultHeight:{type:Number,required:!0,default:400},defaultWidth:{type:Number,default:300},minimumHeight:{type:Number,default:50},minimumWidth:{type:Number,default:50},maximumHeight:{type:Number,default:void 0},maximumWidth:{type:Number,default:void 0},defaultTop:{type:Number,default:200},defaultLeft:{type:Number,default:400},minimumExposure:{type:Number,default:100},canMove:{type:Boolean,default:!0},canResize:{type:Boolean,default:!0},canResizeWidth:{type:Boolean,default:!0},canResizeHeight:{type:Boolean,default:!0},dragMoveDebounce:{type:Number,default:10},spawnSnappedTo:{type:String,default:void 0},managerProps:{type:Object,default:()=>({})}},setup(){return{applicationStore:ht}},data(e){return{height:e.defaultHeight,width:e.defaultWidth,top:e.defaultTop,left:e.defaultLeft,overlayStatus:"restored",heightWhenMinimized:32,hovered:!1,dragAction:"NONE",dragStart:{x:0,y:0},mouseCaptured:!1,onDragMoveReady:!0,windowCache:{}}},computed:{isMaximized(){return this.overlayStatus==="maximized"},isMinimized(){return this.overlayStatus==="minimized"},showWindowTitleBar(){return!this.hoverShowBar||this.hovered||this.isMinimized||this.isMaximized},showWindowContent(){return!this.isMinimized},getWindowStyle(){if(this.applicationStore.theme.globalStyle==="none")return this.$q.dark.isActive?"#121212":"#ffffff";const e={aero:"80",mica:"ff"};if(this.$props.transparentOnIdle&&!this.hovered)return"#0002";if(this.applicationStore.theme.windowStyle==="none")return this.$q.dark.isActive?"#1D1D1D":"#fff";const o={"gradient-top":"circle at 50% 0%","gradient-right":"circle at 100% 50%","gradient-bottom":"circle at 50% 100%","gradient-left":"circle at 0% 50%"}[this.applicationStore.theme.windowStyle],i=this.applicationStore.theme.colors.primary,n=this.applicationStore.theme.colors.secondary,d=this.$q.dark.isActive?"#121212":"#ffffff",s=e[this.applicationStore.theme.globalStyle];return`radial-gradient(${o}, ${n}30 15%, ${i}30 40%, ${d} 95%), linear-gradient(${d}${s}, ${d}${s})`}},watch:{overlayStatus(){this.refinePosition()},"managerProps.overlayStatus"(e){this.overlayStatus=e}},methods:{dragBehavior(e){let t=0,o=0,i=0,n=0;switch(e){case"move":t=1,o=1;break;case"resize-top":t=1,n=-1;break;case"resize-bottom":n=1;break;case"resize-left":o=1,i=-1;break;case"resize-right":i=1;break;case"resize-nw":t=1,o=1,n=-1,i=-1;break;case"resize-ne":t=1,n=-1,i=1;break;case"resize-sw":o=1,i=-1,n=1;break;case"resize-se":n=1,i=1;break}return{top:t,left:o,width:i,height:n}},beginAction(e,t){this.dragAction&&this.dragAction!=="NONE"||(this.cacheWindowParams(),this.dragStart=this.getEventPosition(e),this.dragAction=t,this.mouseCaptured=!0)},applyDrag(e,t){if(!this.dragAction||!this.dragStart)return;const o=this.dragBehavior(this.dragAction);let i=e-this.dragStart.x,n=t-this.dragStart.y,d=this.width+i*o.width;this.minimumWidth&&d<this.minimumWidth&&(d=this.minimumWidth,i=(d-this.width)*o.width),this.maximumWidth&&d>this.maximumWidth&&(d=this.maximumWidth,i=(d-this.width)*o.width);let s=this.height+n*o.height;this.minimumHeight&&s<this.minimumHeight&&(s=this.minimumHeight,n=(s-this.height)*o.height),this.maximumHeight&&s>this.maximumHeight&&(s=this.maximumHeight,n=(s-this.height)*o.height),this.width=d,this.height=s,this.top+=n*o.top,this.left+=i*o.left,this.dragStart={x:e,y:t}},onDragMove(e){if(this.cacheWindowParams(),this.onDragMoveReady){const t=this.getEventPosition(e);this.applyDrag(t.x,t.y),this.onDragMoveReady=!1,window.setTimeout(()=>{this.onDragMoveReady=!0},this.dragMoveDebounce)}},onDragDone(e){this.cacheWindowParams();const t=this.getEventPosition(e);this.applyDrag(t.x,t.y),this.mouseCaptured=!1,this.dragAction="NONE",this.dragStart={x:0,y:0},this.refinePosition()},snapTo(e){e==="top"?this.top=0:e==="right"?this.left=this.windowCache.innerWidth:e==="bottom"?this.top=this.windowCache.innerHeight:e==="left"&&(this.left=0)},cacheWindowParams(){var e;this.windowCache={innerWidth:window.innerWidth,innerHeight:((e=document.body.querySelector("main"))==null?void 0:e.clientHeight)||window.innerHeight}},refinePosition(){this.top<0&&(this.top=0),this.overlayStatus==="minimized"?this.top>this.windowCache.innerHeight-this.heightWhenMinimized&&(this.top=this.windowCache.innerHeight-this.heightWhenMinimized):this.top>this.windowCache.innerHeight-this.height&&(this.top=this.windowCache.innerHeight-this.height),this.left<0&&(this.left=0),this.left>this.windowCache.innerWidth-this.width&&(this.left=this.windowCache.innerWidth-this.width)},refineSize(){this.width<0&&(this.width=0),this.width>this.windowCache.innerWidth&&(this.width=this.windowCache.innerWidth),this.height<0&&(this.height=0),this.height>this.windowCache.innerHeight&&(this.height=this.windowCache.innerHeight)},getEventPosition(e){let t={x:0,y:300};return"touches"in e&&e.touches.length>0?t={x:e.touches[0].clientX,y:e.touches[0].clientY}:"changedTouches"in e&&e.changedTouches.length>0?t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:"clientX"in e&&(t={x:e.clientX,y:e.clientY}),t}},mounted(){this.cacheWindowParams(),this.snapTo(this.spawnSnappedTo),this.refinePosition(),this.refineSize(),window.addEventListener("resize",()=>{this.cacheWindowParams(),this.refinePosition()}),document.addEventListener("mousemove",e=>{this.mouseCaptured&&this.onDragMove(e)},!0),document.addEventListener("mouseup",e=>{this.mouseCaptured&&this.onDragDone(e)},!0),document.addEventListener("touchmove",e=>{this.mouseCaptured&&this.onDragMove(e)},!0),document.addEventListener("touchend",e=>{this.mouseCaptured&&this.onDragDone(e)},!0)}}),Oo={key:0,version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{"enable-background":"new 0 0 24 24",width:"1.715em",color:"inherit"},"xml:space":"preserve"};function Ro(e,t,o,i,n,d){return C(),ee(ft,{class:"outer column no-wrap items-stretch",onMouseenter:t[25]||(t[25]=s=>e.hovered=!0),onMouseleave:t[26]||(t[26]=s=>e.hovered=!1),onMousedown:t[27]||(t[27]=s=>e.$emit("overlay-action","select")),style:pt({height:e.isMaximized?"100%":(e.showWindowContent?e.height:e.heightWhenMinimized)+"px",width:e.isMaximized?"100%":e.width+"px",top:`${e.isMaximized||e.top<0?0:e.showWindowContent?e.top>e.windowCache.innerHeight-e.height?e.windowCache.innerHeight-e.height:e.top:e.top>e.windowCache.innerHeight-e.heightWhenMinimized?e.windowCache.innerHeight-e.heightWhenMinimized:e.top}px`,left:`${e.isMaximized||e.left<0?0:e.left>e.windowCache.innerWidth-e.width?e.windowCache.innerWidth-e.width:e.left}px`,background:e.getWindowStyle,backgroundAttachment:"fixed",backdropFilter:e.applicationStore.theme.globalStyle==="aero"?"blur(10px)":"unset",borderRadius:e.isMaximized?"0px":"5px",transition:"0.2s ease background",overflow:e.showWindowContent?"hidden":"show"})},{default:r(()=>[V("div",{class:"bar-container",style:pt({position:e.hoverShowBar?"absolute":"relative"})},[a(fa,{class:wt(["bar",{"bar-hidden":!e.showWindowTitleBar}])},{default:r(()=>[a(ke,{name:e.icon,onMousedown:t[0]||(t[0]=s=>e.canMove&&e.beginAction(s,"move")),onTouchstart:t[1]||(t[1]=ue(s=>e.canMove&&e.beginAction(s,"move"),["stop"]))},null,8,["name"]),V("div",{class:"title",onMousedown:t[2]||(t[2]=s=>e.canMove&&e.beginAction(s,"move")),onTouchstart:t[3]||(t[3]=ue(s=>e.canMove&&e.beginAction(s,"move"),["stop"]))},te(e.title),33),V("div",{class:"col full-height",onMousedown:t[4]||(t[4]=s=>e.canMove&&e.beginAction(s,"move")),onTouchstart:t[5]||(t[5]=ue(s=>e.canMove&&e.beginAction(s,"move"),["stop"]))},null,32),a(x,{dense:"",flat:"",icon:e.overlayStatus==="minimized"?"expand_more":"minimize",onClick:t[6]||(t[6]=s=>e.$emit("overlay-action","minimize"))},null,8,["icon"]),a(x,{dense:"",flat:"",icon:e.overlayStatus==="maximized"?void 0:"crop_square",onClick:t[7]||(t[7]=s=>e.$emit("overlay-action","maximize"))},{default:r(()=>[e.overlayStatus==="maximized"?(C(),D("svg",Oo,t[28]||(t[28]=[V("path",{fill:"none",d:"M-2,2h24v24H-2V2z"},null,-1),V("path",{fill:"currentColor",d:`M16,6H4C2.9,6,2,6.9,2,8v12c0,1.1,0.9,2,2,\r
                            2h12c1.1,0,2-0.9,2-2V8C18,6.9,17.1,6,16,6z M16,20H4V8h12V20z`},null,-1),V("path",{fill:"currentColor",d:`M20,18c1.1,0,2-0.9,\r
                            2-2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v2l2,0V4h12v12h-2l0,2H20z`},null,-1)]))):ze("",!0)]),_:1},8,["icon"]),a(x,{dense:"",flat:"",icon:"close",onClick:t[8]||(t[8]=s=>e.$emit("overlay-action","close"))})]),_:1},8,["class"])],4),Fe(a(va,{class:"col q-pa-none",style:pt(e.hoverShowBar?"margin-top: 32px;":"")},{default:r(()=>[ta(e.$slots,"default",{},void 0,!0)]),_:3},8,["style"]),[[Vt,e.showWindowContent]]),e.canResize&&e.canResizeHeight&&!e.isMinimized&&!e.isMaximized?(C(),D("div",{key:0,class:"resize resize-top",onMousedown:t[9]||(t[9]=s=>e.beginAction(s,"resize-top")),onTouchstart:t[10]||(t[10]=ue(s=>e.beginAction(s,"resize-top"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeHeight&&!e.isMinimized&&!e.isMaximized?(C(),D("div",{key:1,class:"resize resize-bottom",onMousedown:t[11]||(t[11]=s=>e.beginAction(s,"resize-bottom")),onTouchstart:t[12]||(t[12]=ue(s=>e.beginAction(s,"resize-bottom"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeWidth&&!e.isMaximized?(C(),D("div",{key:2,class:"resize resize-left",onMousedown:t[13]||(t[13]=s=>e.beginAction(s,"resize-left")),onTouchstart:t[14]||(t[14]=ue(s=>e.beginAction(s,"resize-left"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeWidth&&!e.isMaximized?(C(),D("div",{key:3,class:"resize resize-right",onMousedown:t[15]||(t[15]=s=>e.beginAction(s,"resize-right")),onTouchstart:t[16]||(t[16]=ue(s=>e.beginAction(s,"resize-right"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeHeight&&e.canResizeWidth&&!e.isMinimized&&!e.isMaximized?(C(),D("div",{key:4,class:"resize resize-nw",onMousedown:t[17]||(t[17]=s=>e.beginAction(s,"resize-nw")),onTouchstart:t[18]||(t[18]=ue(s=>e.beginAction(s,"resize-nw"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeHeight&&e.canResizeWidth&&!e.isMinimized&&!e.isMaximized?(C(),D("div",{key:5,class:"resize resize-ne",onMousedown:t[19]||(t[19]=s=>e.beginAction(s,"resize-ne")),onTouchstart:t[20]||(t[20]=ue(s=>e.beginAction(s,"resize-ne"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeHeight&&e.canResizeWidth&&!e.isMinimized&&!e.isMaximized?(C(),D("div",{key:6,class:"resize resize-sw",onMousedown:t[21]||(t[21]=s=>e.beginAction(s,"resize-sw")),onTouchstart:t[22]||(t[22]=ue(s=>e.beginAction(s,"resize-sw"),["stop"]))},null,32)):ze("",!0),e.canResize&&e.canResizeHeight&&e.canResizeWidth&&!e.isMinimized&&!e.isMaximized?(C(),D("div",{key:7,class:"resize resize-se",onMousedown:t[23]||(t[23]=s=>e.beginAction(s,"resize-se")),onTouchstart:t[24]||(t[24]=ue(s=>e.beginAction(s,"resize-se"),["stop"]))},null,32)):ze("",!0)]),_:3},8,["style"])}var vt=Ge(zo,[["render",Ro],["__scopeId","data-v-56de444f"]]);const No=Ue({name:"AudioOverlay",props:{propsToPass:{type:Object,default:()=>({}),required:!1}},components:{OverlayShell:vt},setup(){return{applicationStore:ht,AudioIO:na}},data(){return{tab:"input",isListeningToFeedback:!1}},methods:{toggleMicrophoneMute(){this.applicationStore.audio.user.hasInputAccess&&Da.muteAudio()},toggleInputFeedback(){this.isListeningToFeedback=!this.isListeningToFeedback,this.isListeningToFeedback?(this.$refs.audioInputFeedbackPlayer.muted=!1,this.$refs.audioInputFeedbackPlayer.play()):this.$refs.audioInputFeedbackPlayer.pause()},setFeedbackPlayerStream(e){this.isListeningToFeedback&&this.$refs.audioInputFeedbackPlayer&&(typeof e=="string"?this.$refs.audioInputFeedbackPlayer.src=e:this.$refs.audioInputFeedbackPlayer.srcObject=e)}},unmounted:function(){this.isListeningToFeedback=!1,this.setFeedbackPlayerStream(null)}}),Eo={class:"row"},Do={class:".col-4"},Fo={class:".col-8 row items-center"},Uo={key:0,class:"text-subtitle1 items-center"},xo={key:1,class:"text-subtitle1 items-center"},Ho={class:"row q-mt-sm"},Wo={key:0,class:"text-caption row items-center"},jo={key:1,class:"text-caption row items-center"},Ko={ref:"audioInputFeedbackPlayer"},Qo={key:0,class:"text-subtitle1 text-grey text-center"},Jo={class:".col-8 row items-center"},Go={key:0,class:"text-subtitle1 items-center"},Xo={key:1,class:"text-subtitle1 items-center"};function Yo(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"headphones",title:"Audio",managerProps:e.propsToPass,defaultHeight:500,defaultWidth:400},{default:r(()=>[a(ft,{class:"column full-height"},{default:r(()=>[a(At,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>e.tab=l),"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:r(()=>[a(Oe,{name:"input",label:"Input"}),a(Oe,{name:"output",label:"Output"})]),_:1},8,["modelValue"]),a(Nt),a(gt,{class:"col"},{default:r(()=>[a(Ft,{modelValue:e.tab,"onUpdate:modelValue":t[3]||(t[3]=l=>e.tab=l),animated:""},{default:r(()=>[a(He,{name:"input"},{default:r(()=>[V("div",Eo,[V("div",Do,[a(x,{fab:"",class:"q-mr-sm",color:e.applicationStore.audio.user.hasInputAccess?e.applicationStore.audio.user.muted?"red":"primary":"grey",icon:e.applicationStore.audio.user.muted?"mic_off":"mic",onClick:e.toggleMicrophoneMute},null,8,["color","icon","onClick"])]),V("div",Fo,[e.AudioIO.selectedInput!=="None selected"?(C(),D("span",Uo," Using "+te(e.AudioIO.selectedInput),1)):(C(),D("span",xo," No microphone selected. "))])]),Fe(V("div",Ho,[a(x,{flat:"",dense:"",round:"",class:"q-mr-sm",disabled:!e.applicationStore.audio.user.hasInputAccess,color:e.isListeningToFeedback?"primary":"red",icon:e.isListeningToFeedback?"hearing":"hearing_disabled",onClick:e.toggleInputFeedback},null,8,["disabled","color","icon","onClick"]),e.isListeningToFeedback?(C(),D("span",jo," Speak into your microphone to listen. ")):(C(),D("span",Wo," Click to test your microphone. ")),V("audio",Ko,null,512)],512),[[Vt,e.applicationStore.audio.user.hasInputAccess]]),a(Nt,{class:"q-my-md"}),e.applicationStore.audio.user.hasInputAccess?(C(),ee(tt,{key:1},{default:r(()=>[(C(!0),D(We,null,ct(e.applicationStore.audio.inputsList,l=>(C(),D("div",{key:l.deviceId},[a(Rl,{onClick:m=>e.AudioIO.requestInputAccess(l.deviceId),modelValue:e.AudioIO.selectedInput,"onUpdate:modelValue":t[1]||(t[1]=m=>e.AudioIO.selectedInput=m),val:l.label,label:l.label,color:"primary"},null,8,["onClick","modelValue","val","label"])]))),128))]),_:1})):(C(),D("div",Qo," Please grant mic access to the app in order to speak. "))]),_:1}),a(He,{name:"output"},{default:r(()=>[V("div",Jo,[e.AudioIO.selectedOutput?(C(),D("span",Go," Using "+te(e.AudioIO.selectedOutput),1)):(C(),D("span",Xo," No output selected. "))]),a(Nt,{class:"q-my-md"}),a(tt,null,{default:r(()=>[(C(!0),D(We,null,ct(e.applicationStore.audio.outputsList,l=>(C(),D("div",{key:l.deviceId},[a(Rl,{onClick:m=>e.AudioIO.requestOutputAccess(l.deviceId),modelValue:e.AudioIO.selectedOutput,"onUpdate:modelValue":t[2]||(t[2]=m=>e.AudioIO.selectedOutput=m),val:l.label,label:l.label,color:"primary"},null,8,["onClick","modelValue","val","label"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(ma,{showing:e.applicationStore.audio.inputsList.length===0},{default:r(()=>[a(Io,{size:"50px",color:"primary"})]),_:1},8,["showing"])]),_:1},8,["managerProps"])}var _o=Ge(No,[["render",Yo]]);const Ul="q-slider__marker-labels",Zo=e=>({value:e}),en=({marker:e})=>f("div",{key:e.value,style:e.style,class:e.classes},e.label),pa=[34,37,40,33,39,38],tn={...Mt,...el,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ln=["pan","update:modelValue","change"];function an({updateValue:e,updatePosition:t,getDragging:o,formAttrs:i}){const{props:n,emit:d,slots:s,proxy:{$q:l}}=Je(),m=qt(n,l),h=kl(i),y=z(!1),T=z(!1),v=z(!1),b=z(!1),$=c(()=>n.vertical===!0?"--v":"--h"),F=c(()=>"-"+(n.switchLabelSide===!0?"switched":"standard")),q=c(()=>n.vertical===!0?n.reverse===!0:n.reverse!==(l.lang.rtl===!0)),J=c(()=>isNaN(n.innerMin)===!0||n.innerMin<n.min?n.min:n.innerMin),G=c(()=>isNaN(n.innerMax)===!0||n.innerMax>n.max?n.max:n.innerMax),S=c(()=>n.disable!==!0&&n.readonly!==!0&&J.value<G.value),M=c(()=>{if(n.step===0)return U=>U;const w=(String(n.step).trim().split(".")[1]||"").length;return U=>parseFloat(U.toFixed(w))}),_=c(()=>n.step===0?1:n.step),R=c(()=>S.value===!0?n.tabindex||0:-1),oe=c(()=>n.max-n.min),ye=c(()=>G.value-J.value),Ce=c(()=>xe(J.value)),Ne=c(()=>xe(G.value)),Le=c(()=>n.vertical===!0?q.value===!0?"bottom":"top":q.value===!0?"right":"left"),N=c(()=>n.vertical===!0?"height":"width"),Ve=c(()=>n.vertical===!0?"width":"height"),Ie=c(()=>n.vertical===!0?"vertical":"horizontal"),je=c(()=>{const w={role:"slider","aria-valuemin":J.value,"aria-valuemax":G.value,"aria-orientation":Ie.value,"data-step":n.step};return n.disable===!0?w["aria-disabled"]="true":n.readonly===!0&&(w["aria-readonly"]="true"),w}),ne=c(()=>`q-slider q-slider${$.value} q-slider--${y.value===!0?"":"in"}active inline no-wrap `+(n.vertical===!0?"row":"column")+(n.disable===!0?" disabled":" q-slider--enabled"+(S.value===!0?" q-slider--editable":""))+(v.value==="both"?" q-slider--focus":"")+(n.label||n.labelAlways===!0?" q-slider--label":"")+(n.labelAlways===!0?" q-slider--label-always":"")+(m.value===!0?" q-slider--dark":"")+(n.dense===!0?" q-slider--dense q-slider--dense"+$.value:""));function Ke(w){const U="q-slider__"+w;return`${U} ${U}${$.value} ${U}${$.value}${F.value}`}function Qe(w){const U="q-slider__"+w;return`${U} ${U}${$.value}`}const _e=c(()=>{const w=n.selectionColor||n.color;return"q-slider__selection absolute"+(w!==void 0?` text-${w}`:"")}),ot=c(()=>Qe("markers")+" absolute overflow-hidden"),p=c(()=>Qe("track-container")),A=c(()=>Ke("pin")),W=c(()=>Ke("label")),se=c(()=>Ke("text-container")),fe=c(()=>Ke("marker-labels-container")+(n.markerLabelsClass!==void 0?` ${n.markerLabelsClass}`:"")),H=c(()=>"q-slider__track relative-position no-outline"+(n.trackColor!==void 0?` bg-${n.trackColor}`:"")),Z=c(()=>{const w={[Ve.value]:n.trackSize};return n.trackImg!==void 0&&(w.backgroundImage=`url(${n.trackImg}) !important`),w}),Se=c(()=>"q-slider__inner absolute"+(n.innerTrackColor!==void 0?` bg-${n.innerTrackColor}`:"")),X=c(()=>{const w=Ne.value-Ce.value,U={[Le.value]:`${100*Ce.value}%`,[N.value]:w===0?"2px":`${100*w}%`};return n.innerTrackImg!==void 0&&(U.backgroundImage=`url(${n.innerTrackImg}) !important`),U});function Me(w){const{min:U,max:le,step:he}=n;let Be=U+w*(le-U);if(he>0){const nt=(Be-J.value)%he;Be+=(Math.abs(nt)>=he/2?(nt<0?-1:1)*he:0)-nt}return Be=M.value(Be),$t(Be,J.value,G.value)}function xe(w){return oe.value===0?0:(w-n.min)/oe.value}function g(w,U){const le=Fa(w),he=n.vertical===!0?$t((le.top-U.top)/U.height,0,1):$t((le.left-U.left)/U.width,0,1);return $t(q.value===!0?1-he:he,Ce.value,Ne.value)}const I=c(()=>Ua(n.markers)===!0?n.markers:_.value),j=c(()=>{const w=[],U=I.value,le=n.max;let he=n.min;do w.push(he),he+=U;while(he<le);return w.push(le),w}),K=c(()=>{const w=` ${Ul}${$.value}-`;return Ul+`${w}${n.switchMarkerLabelsSide===!0?"switched":"standard"}${w}${q.value===!0?"rtl":"ltr"}`}),ve=c(()=>n.markerLabels===!1?null:we(n.markerLabels).map((w,U)=>({index:U,value:w.value,label:w.label||w.value,classes:K.value+(w.classes!==void 0?" "+w.classes:""),style:{...Ee(w.value),...w.style||{}}}))),Y=c(()=>({markerList:ve.value,markerMap:qe.value,classes:K.value,getStyle:Ee})),$e=c(()=>{const w=ye.value===0?"2px":100*I.value/ye.value;return{...X.value,backgroundSize:n.vertical===!0?`2px ${w}%`:`${w}% 2px`}});function we(w){if(w===!1)return null;if(w===!0)return j.value.map(Zo);if(typeof w=="function")return j.value.map(le=>{const he=w(le);return ol(he)===!0?{...he,value:le}:{value:le,label:he}});const U=({value:le})=>le>=n.min&&le<=n.max;return Array.isArray(w)===!0?w.map(le=>ol(le)===!0?le:{value:le}).filter(U):Object.keys(w).map(le=>{const he=w[le],Be=Number(le);return ol(he)===!0?{...he,value:Be}:{value:Be,label:he}}).filter(U)}function Ee(w){return{[Le.value]:`${100*(w-n.min)/oe.value}%`}}const qe=c(()=>{if(n.markerLabels===!1)return null;const w={};return ve.value.forEach(U=>{w[U.value]=U}),w});function k(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](Y.value);const w=s["marker-label"]||en;return ve.value.map(U=>w({marker:U,...Y.value}))}const B=c(()=>[[ia,Q,void 0,{[Ie.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Q(w){w.isFinal===!0?(b.value!==void 0&&(t(w.evt),w.touch===!0&&e(!0),b.value=void 0,d("pan","end")),y.value=!1,v.value=!1):w.isFirst===!0?(b.value=o(w.evt),t(w.evt),e(),y.value=!0,d("pan","start")):(t(w.evt),e())}function pe(){v.value=!1}function ge(w){t(w,o(w)),e(),T.value=!0,y.value=!0,document.addEventListener("mouseup",ie,!0)}function ie(){T.value=!1,y.value=!1,e(!0),pe(),document.removeEventListener("mouseup",ie,!0)}function re(w){t(w,o(w)),e(!0)}function Te(w){pa.includes(w.keyCode)&&e(!0)}function Pe(w){if(n.vertical===!0)return null;const U=l.lang.rtl!==n.reverse?1-w:w;return{transform:`translateX(calc(${2*U-1} * ${n.thumbSize} / 2 + ${50-100*U}%))`}}function lt(w){const U=c(()=>T.value===!1&&(v.value===w.focusValue||v.value==="both")?" q-slider--focus":""),le=c(()=>`q-slider__thumb q-slider__thumb${$.value} q-slider__thumb${$.value}-${q.value===!0?"rtl":"ltr"} absolute non-selectable`+U.value+(w.thumbColor.value!==void 0?` text-${w.thumbColor.value}`:"")),he=c(()=>({width:n.thumbSize,height:n.thumbSize,[Le.value]:`${100*w.ratio.value}%`,zIndex:v.value===w.focusValue?2:void 0})),Be=c(()=>w.labelColor.value!==void 0?` text-${w.labelColor.value}`:""),nt=c(()=>Pe(w.ratio.value)),Tt=c(()=>"q-slider__text"+(w.labelTextColor.value!==void 0?` text-${w.labelTextColor.value}`:""));return()=>{const Lt=[f("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[f("path",{d:n.thumbPath})]),f("div",{class:"q-slider__focus-ring fit"})];return(n.label===!0||n.labelAlways===!0)&&(Lt.push(f("div",{class:A.value+" absolute fit no-pointer-events"+Be.value},[f("div",{class:W.value,style:{minWidth:n.thumbSize}},[f("div",{class:se.value,style:nt.value},[f("span",{class:Tt.value},w.label.value)])])])),n.name!==void 0&&n.disable!==!0&&h(Lt,"push")),f("div",{class:le.value,style:he.value,...w.getNodeData()},Lt)}}function bt(w,U,le,he){const Be=[];n.innerTrackColor!=="transparent"&&Be.push(f("div",{key:"inner",class:Se.value,style:X.value})),n.selectionColor!=="transparent"&&Be.push(f("div",{key:"selection",class:_e.value,style:w.value})),n.markers!==!1&&Be.push(f("div",{key:"marker",class:ot.value,style:$e.value})),he(Be);const nt=[_t("div",{key:"trackC",class:p.value,tabindex:U.value,...le.value},[f("div",{class:H.value,style:Z.value},Be)],"slide",S.value,()=>B.value)];if(n.markerLabels!==!1){const Tt=n.switchMarkerLabelsSide===!0?"unshift":"push";nt[Tt](f("div",{key:"markerL",class:fe.value},k()))}return nt}return Jt(()=>{document.removeEventListener("mouseup",ie,!0)}),{state:{active:y,focus:v,preventFocus:T,dragging:b,editable:S,classes:ne,tabindex:R,attributes:je,roundValueFn:M,keyStep:_,trackLen:oe,innerMin:J,innerMinRatio:Ce,innerMax:G,innerMaxRatio:Ne,positionProp:Le,sizeProp:N,isReversed:q},methods:{onActivate:ge,onMobileClick:re,onBlur:pe,onKeyup:Te,getContent:bt,getThumbRenderFn:lt,convertRatioToModel:Me,convertModelToRatio:xe,getDraggingRatio:g}}}const on=()=>({});var mt=Re({name:"QSlider",props:{...tn,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ln,setup(e,{emit:t}){const{proxy:{$q:o}}=Je(),{state:i,methods:n}=an({updateValue:$,updatePosition:q,getDragging:F,formAttrs:co(e)}),d=z(null),s=z(0),l=z(0);function m(){l.value=e.modelValue===null?i.innerMin.value:$t(e.modelValue,i.innerMin.value,i.innerMax.value)}Ye(()=>`${e.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,m),m();const h=c(()=>n.convertModelToRatio(l.value)),y=c(()=>i.active.value===!0?s.value:h.value),T=c(()=>{const S={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(y.value-i.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(S.backgroundImage=`url(${e.selectionImg}) !important`),S}),v=n.getThumbRenderFn({focusValue:!0,getNodeData:on,ratio:y,label:c(()=>e.labelValue!==void 0?e.labelValue:l.value),thumbColor:c(()=>e.thumbColor||e.color),labelColor:c(()=>e.labelColor),labelTextColor:c(()=>e.labelTextColor)}),b=c(()=>i.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:n.onMobileClick}:{onMousedown:n.onActivate,onFocus:J,onBlur:n.onBlur,onKeydown:G,onKeyup:n.onKeyup});function $(S){l.value!==e.modelValue&&t("update:modelValue",l.value),S===!0&&t("change",l.value)}function F(){return d.value.getBoundingClientRect()}function q(S,M=i.dragging.value){const _=n.getDraggingRatio(S,M);l.value=n.convertRatioToModel(_),s.value=e.snap!==!0||e.step===0?_:n.convertModelToRatio(l.value)}function J(){i.focus.value=!0}function G(S){if(!pa.includes(S.keyCode))return;Xe(S);const M=([34,33].includes(S.keyCode)?10:1)*i.keyStep.value,_=([34,37,40].includes(S.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*M;l.value=$t(i.roundValueFn.value(l.value+_),i.innerMin.value,i.innerMax.value),$()}return()=>{const S=n.getContent(T,i.tabindex,b,M=>{M.push(v())});return f("div",{ref:d,class:i.classes.value+(e.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":e.modelValue},S)}}});const nn={...Mt,...wl,...el,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},rn=["update:modelValue"];function sn(e,t){const{props:o,slots:i,emit:n,proxy:d}=Je(),{$q:s}=d,l=qt(o,s),m=z(null),{refocusTargetEl:h,refocusTarget:y}=mo(o,m),T=Sl(o,fo),v=c(()=>o.val!==void 0&&Array.isArray(o.modelValue)),b=c(()=>{const N=Ot(o.val);return v.value===!0?o.modelValue.findIndex(Ve=>Ot(Ve)===N):-1}),$=c(()=>v.value===!0?b.value!==-1:Ot(o.modelValue)===Ot(o.trueValue)),F=c(()=>v.value===!0?b.value===-1:Ot(o.modelValue)===Ot(o.falseValue)),q=c(()=>$.value===!1&&F.value===!1),J=c(()=>o.disable===!0?-1:o.tabindex||0),G=c(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(l.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),S=c(()=>{const N=$.value===!0?"truthy":F.value===!0?"falsy":"indet",Ve=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?$.value===!0:F.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${N}${Ve}`}),M=c(()=>{const N={type:"checkbox"};return o.name!==void 0&&Object.assign(N,{".checked":$.value,"^checked":$.value===!0?"checked":void 0,name:o.name,value:v.value===!0?o.val:o.trueValue}),N}),_=kl(M),R=c(()=>{const N={tabindex:J.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":q.value===!0?"mixed":$.value===!0?"true":"false"};return o.disable===!0&&(N["aria-disabled"]="true"),N});function oe(N){N!==void 0&&(Xe(N),y(N)),o.disable!==!0&&n("update:modelValue",ye(),N)}function ye(){if(v.value===!0){if($.value===!0){const N=o.modelValue.slice();return N.splice(b.value,1),N}return o.modelValue.concat([o.val])}if($.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(F.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function Ce(N){(N.keyCode===13||N.keyCode===32)&&Xe(N)}function Ne(N){(N.keyCode===13||N.keyCode===32)&&oe(N)}const Le=t($,q);return Object.assign(d,{toggle:oe}),()=>{const N=Le();o.disable!==!0&&_(N,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const Ve=[f("div",{class:S.value,style:T.value,"aria-hidden":"true"},N)];h.value!==null&&Ve.push(h.value);const Ie=o.label!==void 0?hl(i.default,[o.label]):Dt(i.default);return Ie!==void 0&&Ve.push(f("div",{class:`q-${e}__label q-anchor--skip`},Ie)),f("div",{ref:m,class:G.value,...R.value,onClick:oe,onKeydown:Ce,onKeyup:Ne},Ve)}}var St=Re({name:"QToggle",props:{...nn,icon:String,iconColor:String},emits:rn,setup(e){function t(o,i){const n=c(()=>(o.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),d=c(()=>o.value===!0?e.iconColor:null);return()=>[f("div",{class:"q-toggle__track"}),f("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},n.value!==void 0?[f(ke,{name:n.value,color:d.value})]:void 0)]}return sn("toggle",t)}});const un=Ue({name:"ControlsOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{userStore:Gt,KeyboardSettings:Fl}},data(){return{tab:"mouse",currentlyBinding:void 0}},computed:{mouseSensitivity:{get(){return this.userStore.controls.mouse.sensitivity},set(e){nl.sensitivity=e}},mouseAcceleration:{get(){return this.userStore.controls.mouse.acceleration},set(e){nl.acceleration=e}},mouseInvert:{get(){return this.userStore.controls.mouse.invert},set(e){nl.invert=e}}},methods:{listenForRebind(e){const t=e.code;!t||!this.currentlyBinding||(Fl.rebindControl(this.currentlyBinding,t),this.currentlyBinding=void 0)}}}),dn={for:"mouseSensitivity"},cn={for:"mouseAcceleration"},mn={for:"mouseInvert"},fn={key:0,class:"rebindPrompt text-grey-6"},vn={key:1,class:"row q-gutter-x-sm"},pn={for:"bloom"};function gn(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"gamepad",title:"Controls",managerProps:e.propsToPass,defaultHeight:500,defaultWidth:400},{default:r(()=>[a(ft,{class:"flex column no-wrap full-height",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[a(At,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>e.tab=l)},{default:r(()=>[a(Oe,{name:"mouse",icon:"mouse",label:""},{default:r(()=>[a(dl,{class:"bg-black"},{default:r(()=>t[7]||(t[7]=[O("Mouse")])),_:1})]),_:1}),a(Oe,{name:"keyboard",icon:"keyboard",label:""},{default:r(()=>[a(dl,{class:"bg-black"},{default:r(()=>t[8]||(t[8]=[O("Keyboard")])),_:1})]),_:1}),a(Oe,{name:"camera",icon:"camera",label:""},{default:r(()=>[a(dl,{class:"bg-black"},{default:r(()=>t[9]||(t[9]=[O("Camera")])),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ft,{modelValue:e.tab,"onUpdate:modelValue":t[6]||(t[6]=l=>e.tab=l),animated:"",class:"full-height",style:{background:"transparent"}},{default:r(()=>[a(He,{name:"mouse"},{default:r(()=>[a(gt,{class:"full-height"},{default:r(()=>[a(tt,{class:"q-pb-md"},{default:r(()=>[a(ce,null,{default:r(()=>[a(E,null,{default:r(()=>[a(dt,null,{default:r(()=>t[10]||(t[10]=[O("Sensitivity")])),_:1})]),_:1}),a(E,{class:"q-pl-xl"},{default:r(()=>[a(mt,{name:"mouseSensitivity",thumbSize:"26px",min:0,max:100,step:5,snap:"",modelValue:e.mouseSensitivity,"onUpdate:modelValue":t[1]||(t[1]=l=>e.mouseSensitivity=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",dn,te(e.mouseSensitivity),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,null,{default:r(()=>[a(dt,null,{default:r(()=>t[11]||(t[11]=[O("Acceleration")])),_:1})]),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"mouseAcceleration",modelValue:e.mouseAcceleration,"onUpdate:modelValue":t[2]||(t[2]=l=>e.mouseAcceleration=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",cn,te(e.mouseAcceleration?"On":"Off"),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,null,{default:r(()=>[a(dt,null,{default:r(()=>t[12]||(t[12]=[O("Invert")])),_:1})]),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"mouseInvert",modelValue:e.mouseInvert,"onUpdate:modelValue":t[3]||(t[3]=l=>e.mouseInvert=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",mn,te(e.mouseInvert?"On":"Off"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(He,{name:"keyboard",class:"q-px-none q-pb-none column no-wrap items-stretch"},{default:r(()=>[t[13]||(t[13]=V("p",{class:"q-mt-xs q-mb-xs text-caption text-grey-6",style:{width:"100%","text-align":"center"}},"Select a control to rebind it.",-1)),t[14]||(t[14]=V("p",{class:"q-mb-sm text-caption text-grey-6",style:{width:"100%","text-align":"center"}},"Press ESC to cancel.",-1)),a(gt,{class:"full-height"},{default:r(()=>[a(tt,{class:"q-pb-md",onKeydown:t[4]||(t[4]=ue(l=>e.listenForRebind(l),["prevent","stop"]))},{default:r(()=>[(C(!0),D(We,null,ct(e.userStore.controls.keyboard,(l,m)=>(C(),D(We,{key:m},[a(dt,{header:"",style:{"text-transform":"capitalize"}},{default:r(()=>[O(te(m),1)]),_:2},1024),(C(!0),D(We,null,ct(l,h=>Fe((C(),ee(ce,{key:h.name,clickable:"","inset-level":1,onClick:y=>e.currentlyBinding=h},{default:r(()=>[a(E,null,{default:r(()=>[a(dt,null,{default:r(()=>[O(te(h.name),1)]),_:2},1024)]),_:2},1024),a(E,null,{default:r(()=>{var y,T,v;return[((y=e.currentlyBinding)==null?void 0:y.name)===h.name?(C(),D("div",fn,"Press any key...")):(C(),D("div",vn,[V("kbd",null,te(e.KeyboardSettings.formatKeyName(h.keycode)),1),e.KeyboardSettings.getSpecialKeyIndicator(h.keycode)?(C(),ee(ke,{key:0,name:(T=e.KeyboardSettings.getSpecialKeyIndicator(h.keycode))==null?void 0:T.icon,title:(v=e.KeyboardSettings.getSpecialKeyIndicator(h.keycode))==null?void 0:v.message,class:"q-mt-sm"},null,8,["name","title"])):ze("",!0)]))]}),_:2},1024)]),_:2},1032,["onClick"])),[[ut]])),128))],64))),128))]),_:1})]),_:1})]),_:1}),a(He,{name:"camera",class:"q-px-none q-pb-none column no-wrap items-stretch"},{default:r(()=>[a(gt,{class:"full-height"},{default:r(()=>[a(tt,{class:"q-pb-md"},{default:r(()=>[a(ce,null,{default:r(()=>[a(E,{title:"Camera Bobbing"},{default:r(()=>t[15]||(t[15]=[O(" Camera Bobbing ")])),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"bloom",modelValue:e.userStore.graphics.cameraBobbing,"onUpdate:modelValue":t[5]||(t[5]=l=>e.userStore.graphics.cameraBobbing=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",pn,te(e.userStore.graphics.cameraBobbing?"On":"Off"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["managerProps"])}var hn=Ge(un,[["render",gn],["__scopeId","data-v-76c6774f"]]);const bn=Ue({name:"GraphicsOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{userStore:Gt}},computed:{fieldOfView:{get(){return this.userStore.graphics.fieldOfView},set(e){this.userStore.graphics.fieldOfView=typeof e=="string"?parseInt(e,10):e}},msaa:{get(){return this.userStore.graphics.msaa},set(e){this.userStore.graphics.msaa=typeof e=="string"?parseInt(e,10):e}}}}),yn={for:"fpsCounter"},Sn={for:"fieldOfView"},wn={for:"bloom"},kn={for:"bloom"},Cn={for:"fxaaEnabled"},Vn={for:"msaa"},$n={for:"sharpen"};function An(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"desktop_windows",title:"Graphics",managerProps:e.propsToPass,defaultHeight:500,defaultWidth:400},{default:r(()=>[a(ft,{class:"column no-wrap items-stretch full-height",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[a(gt,{class:"q-mt-md full-height"},{default:r(()=>[a(tt,{class:"q-pb-md"},{default:r(()=>[a(ce,null,{default:r(()=>[a(E,{title:"FPS Counter"},{default:r(()=>t[7]||(t[7]=[O(" FPS Counter ")])),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"fpsCounter",modelValue:e.userStore.graphics.fpsCounter,"onUpdate:modelValue":t[0]||(t[0]=l=>e.userStore.graphics.fpsCounter=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",yn,te(e.userStore.graphics.fpsCounter?"On":"Off"),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,{title:"Field of View"},{default:r(()=>t[8]||(t[8]=[O(" Field of View ")])),_:1}),a(E,{class:"q-pl-xl"},{default:r(()=>[a(mt,{name:"fieldOfView",thumbSize:"26px",min:70,max:120,step:5,snap:"",modelValue:e.fieldOfView,"onUpdate:modelValue":t[1]||(t[1]=l=>e.fieldOfView=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",Sn,te(e.fieldOfView),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,{title:"Camera Bobbing"},{default:r(()=>t[9]||(t[9]=[O(" Camera Bobbing ")])),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"bloom",modelValue:e.userStore.graphics.cameraBobbing,"onUpdate:modelValue":t[2]||(t[2]=l=>e.userStore.graphics.cameraBobbing=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",wn,te(e.userStore.graphics.cameraBobbing?"On":"Off"),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,{title:"Bloom"},{default:r(()=>t[10]||(t[10]=[O(" Bloom ")])),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"bloom",modelValue:e.userStore.graphics.bloom,"onUpdate:modelValue":t[3]||(t[3]=l=>e.userStore.graphics.bloom=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",kn,te(e.userStore.graphics.bloom?"On":"Off"),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,{title:"Fast Approximate Anti-Aliasing"},{default:r(()=>t[11]||(t[11]=[O(" FXAA ")])),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"fxaaEnabled",modelValue:e.userStore.graphics.fxaaEnabled,"onUpdate:modelValue":t[4]||(t[4]=l=>e.userStore.graphics.fxaaEnabled=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",Cn,te(e.userStore.graphics.fxaaEnabled?"On":"Off"),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,{title:"Multisample Anti-Aliasing"},{default:r(()=>t[12]||(t[12]=[O(" MSAA ")])),_:1}),a(E,{class:"q-pl-xl"},{default:r(()=>[a(mt,{name:"msaa",thumbSize:"26px",min:1,max:8,step:1,snap:"",modelValue:e.msaa,"onUpdate:modelValue":t[5]||(t[5]=l=>e.msaa=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",Vn,te(e.msaa===1?"Off":`\xD7${e.msaa}`),1)]),_:1})]),_:1}),a(ce,null,{default:r(()=>[a(E,{title:"Sharpen"},{default:r(()=>t[13]||(t[13]=[O(" Sharpen ")])),_:1}),a(E,{class:"q-pl-sm"},{default:r(()=>[a(St,{name:"sharpen",modelValue:e.userStore.graphics.sharpen,"onUpdate:modelValue":t[6]||(t[6]=l=>e.userStore.graphics.sharpen=l)},null,8,["modelValue"])]),_:1}),a(E,{side:"",style:{"min-width":"5ch"}},{default:r(()=>[V("output",$n,te(e.userStore.graphics.sharpen?"On":"Off"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["managerProps"])}var Mn=Ge(bn,[["render",An]]);function Wt(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const o=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const i=e.valueOf();if(Object(i)!==i){const n=new e.constructor(i);return t.set(e,n),n}}return t.set(e,o),e instanceof Set?e.forEach(i=>{o.add(Wt(i,t))}):e instanceof Map&&e.forEach((i,n)=>{o.set(n,Wt(i,t))}),Object.assign(o,...Object.keys(e).map(i=>({[i]:Wt(e[i],t)})))}var rt=Re({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:o}){const{proxy:i}=Je(),{$q:n}=i,d=z(null),s=z(""),l=z("");let m=!1;const h=c(()=>xa({initialValue:s.value,validate:e.validate,set:y,cancel:T,updatePosition:v},"value",()=>l.value,M=>{l.value=M}));function y(){e.validate(l.value)!==!1&&(b()===!0&&(o("save",l.value,s.value),o("update:modelValue",l.value)),$())}function T(){b()===!0&&o("cancel",l.value,s.value),$()}function v(){Ze(()=>{d.value.updatePosition()})}function b(){return Ct(l.value,s.value)===!1}function $(){m=!0,d.value.hide()}function F(){m=!1,s.value=Wt(e.modelValue),l.value=Wt(e.modelValue),o("beforeShow")}function q(){o("show")}function J(){m===!1&&b()===!0&&(e.autoSave===!0&&e.validate(l.value)===!0?(o("save",l.value,s.value),o("update:modelValue",l.value)):o("cancel",l.value,s.value)),o("beforeHide")}function G(){o("hide")}function S(){const M=t.default!==void 0?[].concat(t.default(h.value)):[];return e.title&&M.unshift(f("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&M.push(f("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[f(x,{flat:!0,color:e.color,label:e.labelCancel||n.lang.label.cancel,onClick:T}),f(x,{flat:!0,color:e.color,label:e.labelSet||n.lang.label.set,onClick:y})])),M}return Object.assign(i,{set:y,cancel:T,show(M){d.value!==null&&d.value.show(M)},hide(M){d.value!==null&&d.value.hide(M)},updatePosition:v}),()=>{if(e.disable!==!0)return f(ca,{ref:d,class:"q-popup-edit",cover:e.cover,onBeforeShow:F,onShow:q,onBeforeHide:J,onHide:G,onEscapeKey:T},S)}}});const qn=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function xl({r:e,g:t,b:o,a:i}){const n=i!==void 0;if(e=Math.round(e),t=Math.round(t),o=Math.round(o),e>255||t>255||o>255||n&&i>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return i=n?(Math.round(255*i/100)|1<<8).toString(16).slice(1):"","#"+(o|t<<8|e<<16|1<<24).toString(16).slice(1)+i}function Hl({r:e,g:t,b:o,a:i}){return`rgb${i!==void 0?"a":""}(${e},${t},${o}${i!==void 0?","+i/100:""})`}function ga(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function Wl({h:e,s:t,v:o,a:i}){let n,d,s;t=t/100,o=o/100,e=e/360;const l=Math.floor(e*6),m=e*6-l,h=o*(1-t),y=o*(1-m*t),T=o*(1-(1-m)*t);switch(l%6){case 0:n=o,d=T,s=h;break;case 1:n=y,d=o,s=h;break;case 2:n=h,d=o,s=T;break;case 3:n=h,d=y,s=o;break;case 4:n=T,d=h,s=o;break;case 5:n=o,d=h,s=y;break}return{r:Math.round(n*255),g:Math.round(d*255),b:Math.round(s*255),a:i}}function cl({r:e,g:t,b:o,a:i}){const n=Math.max(e,t,o),d=Math.min(e,t,o),s=n-d,l=n===0?0:s/n,m=n/255;let h;switch(n){case d:h=0;break;case e:h=t-o+s*(t<o?6:0),h/=6*s;break;case t:h=o-e+s*2,h/=6*s;break;case o:h=e-t+s*4,h/=6*s;break}return{h:Math.round(h*360),s:Math.round(l*100),v:Math.round(m*100),a:i}}function ha(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),o=qn.exec(t);if(o===null)return ga(t);const i={r:Math.min(255,parseInt(o[2],10)),g:Math.min(255,parseInt(o[3],10)),b:Math.min(255,parseInt(o[4],10))};if(o[1]){const n=parseFloat(o[5]);i.a=Math.min(1,isNaN(n)===!0?1:n)*100}return i}function Tn(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?ha(e):e,o=t.r/255,i=t.g/255,n=t.b/255,d=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),l=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);return .2126*d+.7152*s+.0722*l}const Ln=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],jl="M5 5 h10 v10 h-10 v-10 z",Pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var jt=Re({name:"QColor",props:{...Mt,...el,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:t}){const{proxy:o}=Je(),{$q:i}=o,n=qt(e,i),{getCache:d}=wo(),s=z(null),l=z(null),m=c(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")!==-1),h=c(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1),y=z(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),T=z(e.defaultView),v=z(N(e.modelValue||e.defaultValue)),b=c(()=>e.disable!==!0&&e.readonly!==!0),$=c(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),F=c(()=>m.value!==null?m.value:$.value),q=c(()=>({type:"hidden",name:e.name,value:v.value[F.value===!0?"hex":"rgb"]})),J=kl(q),G=c(()=>h.value!==null?h.value:v.value.a!==void 0),S=c(()=>({backgroundColor:v.value.rgb||"#000"})),M=c(()=>`q-color-picker__header-content q-color-picker__header-content--${(v.value.a!==void 0&&v.value.a<65?!0:Tn(v.value)>.4)?"light":"dark"}`),_=c(()=>({background:`hsl(${v.value.h},100%,50%)`})),R=c(()=>({top:`${100-v.value.v}%`,[i.lang.rtl===!0?"right":"left"]:`${v.value.s}%`})),oe=c(()=>e.palette!==void 0&&e.palette.length!==0?e.palette:Ln),ye=c(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(n.value===!0?" q-color-picker--dark q-dark":"")),Ce=c(()=>e.disable===!0?{"aria-disabled":"true"}:{}),Ne=c(()=>[[ia,_e,void 0,{prevent:!0,stop:!0,mouse:!0}]]);Ye(()=>e.modelValue,g=>{const I=N(g||e.defaultValue);I.hex!==v.value.hex&&(v.value=I)}),Ye(()=>e.defaultValue,g=>{if(!e.modelValue&&g){const I=N(g);I.hex!==v.value.hex&&(v.value=I)}});function Le(g,I){v.value.hex=xl(g),v.value.rgb=Hl(g),v.value.r=g.r,v.value.g=g.g,v.value.b=g.b,v.value.a=g.a;const j=v.value[F.value===!0?"hex":"rgb"];t("update:modelValue",j),I===!0&&t("change",j)}function N(g){const I=h.value!==void 0?h.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1;if(typeof g!="string"||g.length===0||So.anyColor(g.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:I===!0?100:void 0,hex:void 0,rgb:void 0};const j=ha(g);return I===!0&&j.a===void 0&&(j.a=100),j.hex=xl(j),j.rgb=Hl(j),Object.assign(j,cl(j))}function Ve(g,I,j){const K=s.value;if(K===null)return;const ve=K.clientWidth,Y=K.clientHeight,$e=K.getBoundingClientRect();let we=Math.min(ve,Math.max(0,g-$e.left));i.lang.rtl===!0&&(we=ve-we);const Ee=Math.min(Y,Math.max(0,I-$e.top)),qe=Math.round(100*we/ve),k=Math.round(100*Math.max(0,Math.min(1,-(Ee/Y)+1))),B=Wl({h:v.value.h,s:qe,v:k,a:G.value===!0?v.value.a:void 0});v.value.s=qe,v.value.v=k,Le(B,j)}function Ie(g,I){const j=Math.round(g),K=Wl({h:j,s:v.value.s,v:v.value.v,a:G.value===!0?v.value.a:void 0});v.value.h=j,Le(K,I)}function je(g){Ie(g,!0)}function ne(g,I,j,K,ve){if(K!==void 0&&et(K),!/^[0-9]+$/.test(g)){ve===!0&&o.$forceUpdate();return}const Y=Math.floor(Number(g));if(Y<0||Y>j){ve===!0&&o.$forceUpdate();return}const $e={r:I==="r"?Y:v.value.r,g:I==="g"?Y:v.value.g,b:I==="b"?Y:v.value.b,a:G.value===!0?I==="a"?Y:v.value.a:void 0};if(I!=="a"){const we=cl($e);v.value.h=we.h,v.value.s=we.s,v.value.v=we.v}if(Le($e,ve),K!==void 0&&ve!==!0&&K.target.selectionEnd!==void 0){const we=K.target.selectionEnd;Ze(()=>{K.target.setSelectionRange(we,we)})}}function Ke(g,I){let j;const K=g.target.value;if(et(g),y.value==="hex"){if(K.length!==(G.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(K))return!0;j=ga(K)}else{let Y;if(K.endsWith(")"))if(G.value!==!0&&K.startsWith("rgb(")){if(Y=K.substring(4,K.length-1).split(",").map($e=>parseInt($e,10)),Y.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(K))return!0}else if(G.value===!0&&K.startsWith("rgba(")){if(Y=K.substring(5,K.length-1).split(","),Y.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(K))return!0;for(let we=0;we<3;we++){const Ee=parseInt(Y[we],10);if(Ee<0||Ee>255)return!0;Y[we]=Ee}const $e=parseFloat(Y[3]);if($e<0||$e>1)return!0;Y[3]=$e}else return!0;else return!0;if(Y[0]<0||Y[0]>255||Y[1]<0||Y[1]>255||Y[2]<0||Y[2]>255||G.value===!0&&(Y[3]<0||Y[3]>1))return!0;j={r:Y[0],g:Y[1],b:Y[2],a:G.value===!0?Y[3]*100:void 0}}const ve=cl(j);if(v.value.h=ve.h,v.value.s=ve.s,v.value.v=ve.v,Le(j,I),I!==!0){const Y=g.target.selectionEnd;Ze(()=>{g.target.setSelectionRange(Y,Y)})}}function Qe(g){const I=N(g),j={r:I.r,g:I.g,b:I.b,a:I.a};j.a===void 0&&(j.a=v.value.a),v.value.h=I.h,v.value.s=I.s,v.value.v=I.v,Le(j,!0)}function _e(g){g.isFinal?Ve(g.position.left,g.position.top,!0):ot(g)}const ot=Ha(g=>{Ve(g.position.left,g.position.top)},20);function p(g){Ve(g.pageX-window.pageXOffset,g.pageY-window.pageYOffset,!0)}function A(g){Ve(g.pageX-window.pageXOffset,g.pageY-window.pageYOffset)}function W(g){l.value!==null&&(l.value.$el.style.opacity=g?1:0)}function se(g){y.value=g}function fe(){const g=[];return e.noHeaderTabs!==!0&&g.push(f(At,{class:"q-color-picker__header-tabs",modelValue:y.value,dense:!0,align:"justify","onUpdate:modelValue":se},()=>[f(Oe,{label:"HEX"+(G.value===!0?"A":""),name:"hex",ripple:!1}),f(Oe,{label:"RGB"+(G.value===!0?"A":""),name:"rgb",ripple:!1})])),g.push(f("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[f("input",{class:"fit",value:v.value[y.value],...b.value!==!0?{readonly:!0}:{},...d("topIn",{onInput:I=>{W(Ke(I)===!0)},onChange:et,onBlur:I=>{Ke(I,!0)===!0&&o.$forceUpdate(),W(!1)}})}),f(ke,{ref:l,class:"q-color-picker__error-icon absolute no-pointer-events",name:i.iconSet.type.negative})])),f("div",{class:"q-color-picker__header relative-position overflow-hidden"},[f("div",{class:"q-color-picker__header-bg absolute-full"}),f("div",{class:M.value,style:S.value},g)])}function H(){return f(Ft,{modelValue:T.value,animated:!0},()=>[f(He,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},X),f(He,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},Me),f(He,{class:"q-color-picker__palette-tab",name:"palette"},xe)])}function Z(g){T.value=g}function Se(){return f("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[f(At,{class:"absolute-full",modelValue:T.value,dense:!0,align:"justify","onUpdate:modelValue":Z},()=>[f(Oe,{icon:i.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),f(Oe,{icon:i.iconSet.colorPicker.tune,name:"tune",ripple:!1}),f(Oe,{icon:i.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function X(){const g={ref:s,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(b.value!==!0?" readonly":""),style:_.value,...b.value===!0?{onClick:p,onMousedown:A}:{}},I=[f("div",{style:{paddingBottom:"100%"}}),f("div",{class:"q-color-picker__spectrum-white absolute-full"}),f("div",{class:"q-color-picker__spectrum-black absolute-full"}),f("div",{class:"absolute",style:R.value},[v.value.hex!==void 0?f("div",{class:"q-color-picker__spectrum-circle"}):null])],j=[f(mt,{class:"q-color-picker__hue non-selectable",modelValue:v.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:b.value!==!0,thumbPath:jl,"onUpdate:modelValue":Ie,onChange:je})];return G.value===!0&&j.push(f(mt,{class:"q-color-picker__alpha non-selectable",modelValue:v.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:Pn,readonly:b.value!==!0,hideSelection:!0,thumbPath:jl,...d("alphaSlide",{"onUpdate:modelValue":K=>ne(K,"a",100),onChange:K=>ne(K,"a",100,void 0,!0)})})),[_t("div",g,I,"spec",b.value,()=>Ne.value),f("div",{class:"q-color-picker__sliders"},j)]}function Me(){return[f("div",{class:"row items-center no-wrap"},[f("div","R"),f(mt,{modelValue:v.value.r,min:0,max:255,color:"red",dark:n.value,readonly:b.value!==!0,...d("rSlide",{"onUpdate:modelValue":g=>ne(g,"r",255),onChange:g=>ne(g,"r",255,void 0,!0)})}),f("input",{value:v.value.r,maxlength:3,readonly:b.value!==!0,onChange:et,...d("rIn",{onInput:g=>ne(g.target.value,"r",255,g),onBlur:g=>ne(g.target.value,"r",255,g,!0)})})]),f("div",{class:"row items-center no-wrap"},[f("div","G"),f(mt,{modelValue:v.value.g,min:0,max:255,color:"green",dark:n.value,readonly:b.value!==!0,...d("gSlide",{"onUpdate:modelValue":g=>ne(g,"g",255),onChange:g=>ne(g,"g",255,void 0,!0)})}),f("input",{value:v.value.g,maxlength:3,readonly:b.value!==!0,onChange:et,...d("gIn",{onInput:g=>ne(g.target.value,"g",255,g),onBlur:g=>ne(g.target.value,"g",255,g,!0)})})]),f("div",{class:"row items-center no-wrap"},[f("div","B"),f(mt,{modelValue:v.value.b,min:0,max:255,color:"blue",readonly:b.value!==!0,dark:n.value,...d("bSlide",{"onUpdate:modelValue":g=>ne(g,"b",255),onChange:g=>ne(g,"b",255,void 0,!0)})}),f("input",{value:v.value.b,maxlength:3,readonly:b.value!==!0,onChange:et,...d("bIn",{onInput:g=>ne(g.target.value,"b",255,g),onBlur:g=>ne(g.target.value,"b",255,g,!0)})})]),G.value===!0?f("div",{class:"row items-center no-wrap"},[f("div","A"),f(mt,{modelValue:v.value.a,color:"grey",readonly:b.value!==!0,dark:n.value,...d("aSlide",{"onUpdate:modelValue":g=>ne(g,"a",100),onChange:g=>ne(g,"a",100,void 0,!0)})}),f("input",{value:v.value.a,maxlength:3,readonly:b.value!==!0,onChange:et,...d("aIn",{onInput:g=>ne(g.target.value,"a",100,g),onBlur:g=>ne(g.target.value,"a",100,g,!0)})})]):null]}function xe(){const g=I=>f("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:I},...b.value===!0?d("palette#"+I,{onClick:()=>{Qe(I)}}):{}});return[f("div",{class:"row items-center q-color-picker__palette-rows"+(b.value===!0?" q-color-picker__palette-rows--editable":"")},oe.value.map(g))]}return()=>{const g=[H()];return e.name!==void 0&&e.disable!==!0&&J(g,"push"),e.noHeader!==!0&&g.unshift(fe()),e.noFooter!==!0&&g.push(Se()),f("div",{class:ye.value,...Ce.value},g)}}});const Bn=Ue({name:"ExploreOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{applicationStore:ht,userStore:Gt}},data(){return{placesList:new Array,loading:!1,filterText:"",locationInput:"",lastConnectedDomain:void 0,newBookmark:{name:"",color:""},locationBookmarked:!1,locationCopied:!1,domain:"",position:Ll.Zero(),rotation:Pl.Zero(),tab:"all"}},computed:{getLocation:function(){return this.userStore.avatar.location??"Not currently connected to a domain."},getDomainServerState:function(){return this.applicationStore.domain.url&&this.applicationStore.domain.url.length>0?`${this.applicationStore.domain.connectionState} (${this.applicationStore.domain.url})`:this.applicationStore.domain.connectionState},getShowConnect:function(){return!!(this.applicationStore.domain.url&&this.applicationStore.domain.url.length>0&&this.applicationStore.domain.connectionState==="DISCONNECTED"&&this.lastConnectedDomain)},getShowDisconnect:function(){return!!(this.applicationStore.domain.url&&this.applicationStore.domain.url.length>0&&this.applicationStore.domain.connectionState.startsWith("CONNECT"))},getDisconnectLabel:function(){return this.applicationStore.domain.connectionState==="CONNECTING"?"Cancel":this.applicationStore.domain.connectionState==="CONNECTED"?"Disconnect":"false"},filteredAndSortedData:function(){let e=this.placesList;return e=e.filter(t=>!t.name.toLowerCase().indexOf(this.filterText.toLowerCase())),e=e.sort((t,o)=>t.currentAttendance>o.currentAttendance?-1:t.currentAttendance<o.currentAttendance?1:t.name.toLowerCase()<o.name.toLowerCase()?-1:t.name.toLowerCase()>o.name.toLowerCase()?1:0),e}},methods:{async loadPlacesList(){this.loading=!0,this.placesList=await Wa.getActivePlaceList(),this.loading=!1},async openLocation(e){yt.info(yt.types.UI,`Connecting to... ${e}`);const t=new Bl(this.$route.path.replace("/","")),o=new Bl(e);await il.connectionSetup(t.hostname===o.hostname?o.pathname:e)},openDetails(e){alert("Not currently implemented: Show details - "+e.name)},async visitIconCallback(){this.filterText!==""&&await this.openLocation(this.filterText)},resetPosition(){Kt.getScene().resetMyAvatarPositionAndOrientation()},connect:async function(){await this.connectToAddress(this.locationInput)},connectToLastAddress:async function(){this.lastConnectedDomain&&await this.connectToAddress(this.lastConnectedDomain)},connectToAddress:async function(e){yt.info(yt.types.UI,`Connecting to... ${e}`),await il.connectionSetup(e)},disconnect:function(){yt.info(yt.types.UI,`Disconnecting from... ${this.userStore.avatar.location}`),this.lastConnectedDomain=this.userStore.avatar.location,il.disconnectActiveDomain()},parseLocation(e,t){try{if(e.length>0){const o=new URL(e);if(t==="protocol"){const i=o.protocol.toUpperCase();return i.includes(":")?i.split(":")[0]:i}if(t==="domain")return o.hostname;if(t==="port")return o.port;if(t==="position"){const i=o.pathname.split("/")[1];return new Ll(parseFloat(i.split(",")[0]),parseFloat(i.split(",")[1]),parseFloat(i.split(",")[2]))}if(t==="rotation"){const i=o.pathname.split("/")[2];return new Pl(parseFloat(i.split(",")[0]),parseFloat(i.split(",")[1]),parseFloat(i.split(",")[2]),parseFloat(i.split(",")[3]))}}}catch{return"None"}return"None"},loadLocation(e){this.domain=this.parseLocation(e,"domain"),this.position=this.parseLocation(e,"position"),this.rotation=this.parseLocation(e,"rotation")},setLocation(){const e=`${this.position.x.toString()},${this.position.y.toString()},${this.position.z.toString()}`,t=`${this.rotation.x.toString()},${this.rotation.y.toString()},${this.rotation.z.toString()},${this.rotation.w.toString()}`,o=`${this.domain}/${e}/${t}`;(async()=>await this.openLocation(o))()},protocolIsSecure(e){return e==="WSS"||e==="HTTPS"},addLocationToBookmarks(){this.userStore.bookmarks.locations.push({name:this.newBookmark.name,color:this.newBookmark.color,url:this.userStore.avatar.location}),this.newBookmark.name="",this.newBookmark.color=""},updateBookmark(e){const t=this.userStore.bookmarks.locations[e].url;this.userStore.bookmarks.locations.splice(e,1,{name:this.newBookmark.name,color:this.newBookmark.color,url:t}),this.newBookmark.name="",this.newBookmark.color=""},deleteBookmark(e){this.userStore.bookmarks.locations.splice(e,1)},async copyLocationToClipboard(){this.locationCopied=!0;let e=this.getLocation;ht.theme.hideInWorldLocation==="true"&&(e=e.split("/").slice(0,3).join("/")),await navigator.clipboard.writeText(e);const t=1700;window.setTimeout(()=>{this.locationCopied=!1},t)},validateBookmarkName(e){return/^(?=[a-z0-9._-\s]{2,20}$)(?!.*[-_.\s]{2})[^-_.\s].*[^-_.\s]$/i.test(e)}},created(){this.loadPlacesList()},beforeMount(){this.loadLocation(this.userStore.avatar.location),Ye(()=>this.userStore.avatar.location,e=>this.loadLocation(e))}}),In=["src","alt"],zn=["title"],On={class:"row q-gutter-x-md q-mt-xs"},Rn=["title"],Nn={class:"row q-gutter-x-md q-mt-xs"},En=["title"],Dn={class:"row q-gutter-x-md q-mt-xs"},Fn={class:"locationBookmark"},Un={class:"row q-gutter-x-md q-mt-xs"},xn={class:"locationCopy"},Hn={class:"locationButton"},Wn={class:"row"},jn={key:0,class:"text-grey-6 q-pt-lg",style:{width:"100%","text-align":"center"}},Kn={class:"col",style:{width:"100%",overflow:"hidden"}},Qn={class:"q-ma-none text-no-wrap ellipsis"},Jn=["title"],Gn={class:"row q-gutter-x-md q-mt-xs"},Xn={class:"row q-px-md q-py-sm",style:{"align-items":"center",gap:"16px","border-top":"1px solid #8888"}};function Yn(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"travel_explore",title:"Explore",managerProps:e.propsToPass,defaultHeight:500,defaultWidth:400,defaultLeft:250,defaultTop:10,hoverShowBar:!1,style:{border:"none"}},{default:r(()=>[a(ft,{class:"column no-wrap items-stretch full-height",style:pt({background:e.$q.dark.isActive?e.applicationStore.theme.colors.dark:e.applicationStore.theme.colors.light,boxShadow:"none"})},{default:r(()=>[V("div",{class:wt(["exploreLocationInfo q-pa-sm",{connected:e.applicationStore.metaverse.connectionState==="CONNECTED",connecting:e.applicationStore.metaverse.connectionState==="CONNECTING",disconnected:e.applicationStore.metaverse.connectionState==="DISCONNECTED"}])},[V("img",{src:e.applicationStore.theme.logo,alt:`${e.applicationStore.theme.productName} logo`},null,8,In),V("p",{class:"locationDomain text-no-wrap ellipsis cursor-pointer",title:"Domain: "+e.parseLocation(e.getLocation,"domain")},[a(ke,{name:e.protocolIsSecure(e.parseLocation(e.getLocation,"protocol"))?"lock":"no_encryption",size:"1em",title:e.protocolIsSecure(e.parseLocation(e.getLocation,"protocol"))?"Connection secured with "+e.parseLocation(e.getLocation,"protocol"):e.parseLocation(e.getLocation,"protocol")},null,8,["name","title"]),O(" "+te(e.parseLocation(e.getLocation,"domain"))+" ",1),a(rt,{modelValue:e.domain,"onUpdate:modelValue":t[1]||(t[1]=l=>e.domain=l)},{default:r(l=>[t[26]||(t[26]=O(" Domain ")),a(de,{dense:"",autofocus:"",modelValue:e.domain,"onUpdate:modelValue":t[0]||(t[0]=m=>e.domain=m)},null,8,["modelValue"]),V("div",On,[a(x,{onClick:()=>{l.cancel(),e.loadLocation(e.userStore.avatar.location)}},{default:r(()=>t[24]||(t[24]=[O("Cancel")])),_:2},1032,["onClick"]),a(x,{color:"primary",onClick:()=>{l.set(),e.setLocation()}},{default:r(()=>t[25]||(t[25]=[O("Ok")])),_:2},1032,["onClick"])])]),_:1},8,["modelValue"])],8,zn),Fe(V("p",{class:"locationPosition text-no-wrap ellipsis cursor-pointer",title:"Position: "+e.parseLocation(e.getLocation,"position").toString().replace("{","").replace("}","")},[O(te(e.parseLocation(e.getLocation,"position").toString().replace("{","").replace("}",""))+" ",1),a(rt,{modelValue:e.position,"onUpdate:modelValue":t[5]||(t[5]=l=>e.position=l)},{default:r(l=>[t[29]||(t[29]=O(" Position ")),a(de,{dense:"",type:"number",label:"X",modelValue:e.position.x,"onUpdate:modelValue":t[2]||(t[2]=m=>e.position.x=m)},null,8,["modelValue"]),a(de,{dense:"",type:"number",label:"Y",modelValue:e.position.y,"onUpdate:modelValue":t[3]||(t[3]=m=>e.position.y=m)},null,8,["modelValue"]),a(de,{dense:"",type:"number",label:"Z",modelValue:e.position.z,"onUpdate:modelValue":t[4]||(t[4]=m=>e.position.z=m)},null,8,["modelValue"]),V("div",Nn,[a(x,{onClick:()=>{l.cancel(),e.loadLocation(e.userStore.avatar.location)}},{default:r(()=>t[27]||(t[27]=[O("Cancel")])),_:2},1032,["onClick"]),a(x,{color:"primary",onClick:()=>{l.set(),e.setLocation()}},{default:r(()=>t[28]||(t[28]=[O("Ok")])),_:2},1032,["onClick"])])]),_:1},8,["modelValue"])],8,Rn),[[Vt,e.applicationStore.theme.hideInWorldLocation!=="true"]]),Fe(V("p",{class:"locationRotation text-no-wrap ellipsis cursor-pointer",title:"Rotation: "+e.parseLocation(e.getLocation,"rotation").toString().replace("{","").replace("}","")},[O(te(e.parseLocation(e.getLocation,"rotation").toString().replace("{","").replace("}",""))+" ",1),a(rt,{modelValue:e.rotation,"onUpdate:modelValue":t[10]||(t[10]=l=>e.rotation=l)},{default:r(l=>[t[32]||(t[32]=O(" Rotation ")),a(de,{dense:"",type:"number",label:"X",modelValue:e.rotation.x,"onUpdate:modelValue":t[6]||(t[6]=m=>e.rotation.x=m)},null,8,["modelValue"]),a(de,{dense:"",type:"number",label:"Y",modelValue:e.rotation.y,"onUpdate:modelValue":t[7]||(t[7]=m=>e.rotation.y=m)},null,8,["modelValue"]),a(de,{dense:"",type:"number",label:"Z",modelValue:e.rotation.z,"onUpdate:modelValue":t[8]||(t[8]=m=>e.rotation.z=m)},null,8,["modelValue"]),a(de,{dense:"",type:"number",label:"W",modelValue:e.rotation.w,"onUpdate:modelValue":t[9]||(t[9]=m=>e.rotation.w=m)},null,8,["modelValue"]),V("div",Dn,[a(x,{onClick:()=>{l.cancel(),e.loadLocation(e.userStore.avatar.location)}},{default:r(()=>t[30]||(t[30]=[O("Cancel")])),_:2},1032,["onClick"]),a(x,{color:"primary",onClick:()=>{l.set(),e.setLocation()}},{default:r(()=>t[31]||(t[31]=[O("Ok")])),_:2},1032,["onClick"])])]),_:1},8,["modelValue"])],8,En),[[Vt,e.applicationStore.theme.hideInWorldLocation!=="true"]]),V("div",Fn,[Fe((C(),ee(x,{flat:"",round:"",icon:e.locationBookmarked?"done":"bookmark",disable:e.locationBookmarked,size:"sm",class:"q-pa-none",title:"Bookmark this location"},{default:r(()=>[a(rt,{modelValue:e.newBookmark,"onUpdate:modelValue":t[13]||(t[13]=l=>e.newBookmark=l)},{default:r(l=>[t[35]||(t[35]=O(" New Bookmark ")),a(de,{dense:"",label:"Name",counter:"",modelValue:e.newBookmark.name,"onUpdate:modelValue":t[11]||(t[11]=m=>e.newBookmark.name=m),validate:e.validateBookmarkName},null,8,["modelValue","validate"]),a(jt,{"no-header":"","no-footer":"",class:"q-mt-xs","format-model":"hex",modelValue:e.newBookmark.color,"onUpdate:modelValue":t[12]||(t[12]=m=>e.newBookmark.color=m)},null,8,["modelValue"]),V("div",Un,[a(x,{onClick:()=>{l.cancel()}},{default:r(()=>t[33]||(t[33]=[O("Cancel")])),_:2},1032,["onClick"]),a(x,{color:"primary",onClick:()=>{l.set(),e.addLocationToBookmarks()}},{default:r(()=>t[34]||(t[34]=[O("Ok")])),_:2},1032,["onClick"])])]),_:1},8,["modelValue"])]),_:1},8,["icon","disable"])),[[ut]])]),V("div",xn,[Fe(a(x,{flat:"",round:"",icon:e.locationCopied?"done":"content_copy",disable:e.locationCopied,size:"sm",class:"q-pa-none",title:"Copy location link",onClick:t[14]||(t[14]=ue(l=>e.copyLocationToClipboard(),["stop"]))},null,8,["icon","disable"]),[[ut]])]),V("div",Hn,[Fe(a(x,{dense:"",color:"secondary",size:"sm",class:"q-ml-sm absolute",style:{"margin-top":"-4px"},onClick:t[15]||(t[15]=l=>e.disconnect()),label:e.getDisconnectLabel},null,8,["label"]),[[Vt,e.getShowDisconnect]]),Fe(a(x,{dense:"",color:"secondary",size:"sm",class:"q-ml-sm absolute",style:{"margin-top":"-4px"},onClick:t[16]||(t[16]=l=>e.connectToLastAddress()),label:"Connect"},null,512),[[Vt,e.getShowConnect]])])],2),V("div",Wn,[a(de,{borderless:"",dense:"",filled:"",debounce:"300",modelValue:e.filterText,"onUpdate:modelValue":t[17]||(t[17]=l=>e.filterText=l),placeholder:"Search or enter location",class:"col","append-icon":"mdi-location-enter",onKeyup:Rt(e.visitIconCallback,["enter"])},{append:r(()=>[a(ke,{name:"search"}),Fe(a(ke,{name:"launch",onClick:e.visitIconCallback,clickable:""},null,8,["onClick"]),[[ut]])]),_:1},8,["modelValue","onKeyup"])]),a(At,{modelValue:e.tab,"onUpdate:modelValue":t[18]||(t[18]=l=>e.tab=l),"no-caps":"",dense:""},{default:r(()=>[a(Oe,{name:"all",label:"All"}),a(Oe,{name:"bookmarks",label:"Bookmarks"})]),_:1},8,["modelValue"]),a(Ft,{modelValue:e.tab,"onUpdate:modelValue":t[22]||(t[22]=l=>e.tab=l),animated:"",class:"full-height"},{default:r(()=>[a(He,{name:"all",class:"q-pa-none non-selectable"},{default:r(()=>[a(tt,{showing:!e.loading},{default:r(()=>[(C(!0),D(We,null,ct(e.filteredAndSortedData,l=>Fe((C(),ee(ce,{key:l.placeId,clickable:"",onClick:m=>e.openLocation(l.address),style:pt(l.thumbnail?"background-image: url("+l.thumbnail+");":""),class:"exploreItem"},{default:r(()=>[t[36]||(t[36]=V("div",{class:"exploreItemBackground"},null,-1)),a(E,{side:""},{default:r(()=>[a(x,{round:"",color:"white",icon:"fas fa-info",clickable:"",onClick:ue(m=>e.openDetails(l),["stop"]),class:"text-secondary",size:"10px"},null,8,["onClick"])]),_:2},1024),a(E,{top:""},{default:r(()=>[a(dt,{lines:"1",class:wt([e.$q.dark.isActive?"bg-dark":"bg-white","exploreLabel"])},{default:r(()=>[O(te(l.name),1)]),_:2},1032,["class"]),a(dt,{caption:"",lines:"1",class:wt([e.$q.dark.isActive?"bg-dark":"bg-white","exploreLabel"])},{default:r(()=>[O(te(l.description),1)]),_:2},1032,["class"])]),_:2},1024),a(E,{side:""},{default:r(()=>[a(ra,{color:"white","text-color":"black"},{default:r(()=>[O(te(l.currentAttendance)+" ",1),a(ke,{name:"people",size:"14px",class:"q-ml-xs"})]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","style"])),[[ut]])),128))]),_:1},8,["showing"])]),_:1}),a(He,{name:"bookmarks",class:"full-height q-pa-none non-selectable"},{default:r(()=>[a(tt,{showing:!e.loading},{default:r(()=>[e.userStore.bookmarks.locations.length<=0?(C(),D("p",jn,"You have no bookmarks")):(C(!0),D(We,{key:1},ct(e.userStore.bookmarks.locations,(l,m)=>Fe((C(),ee(ce,{key:l.name,clickable:"",style:{height:"4em"},onClick:h=>e.openLocation(l.url)},{default:r(()=>[a(E,{side:""},{default:r(()=>[a(la,{style:pt({backgroundColor:l.color,border:"4px solid #888"}),size:"md"},null,8,["style"])]),_:2},1024),a(E,null,{default:r(()=>[V("div",Kn,[V("p",Qn,te(l.name),1),V("p",{class:"q-ma-none text-caption text-grey-5 text-no-wrap ellipsis",title:l.url},te(l.url),9,Jn)])]),_:2},1024),a(E,null,{default:r(()=>[a(x,{dense:"",flat:"","fab-mini":"",icon:"edit",title:"Edit bookmark",onClick:ue(()=>{e.newBookmark.name=l.name,e.newBookmark.color=l.color},["stop"])},{default:r(()=>[a(rt,{modelValue:e.newBookmark,"onUpdate:modelValue":t[21]||(t[21]=h=>e.newBookmark=h)},{default:r(h=>[t[39]||(t[39]=O(" New Bookmark ")),a(de,{dense:"",label:"Name",counter:"",modelValue:e.newBookmark.name,"onUpdate:modelValue":t[19]||(t[19]=y=>e.newBookmark.name=y),validate:e.validateBookmarkName},null,8,["modelValue","validate"]),a(jt,{"no-header":"","no-footer":"",class:"q-mt-xs","format-model":"hex",modelValue:e.newBookmark.color,"onUpdate:modelValue":t[20]||(t[20]=y=>e.newBookmark.color=y)},null,8,["modelValue"]),V("div",Gn,[a(x,{onClick:()=>{h.cancel()}},{default:r(()=>t[37]||(t[37]=[O("Cancel")])),_:2},1032,["onClick"]),a(x,{color:"primary",onClick:()=>{h.set(),e.updateBookmark(m)}},{default:r(()=>t[38]||(t[38]=[O("Ok")])),_:2},1032,["onClick"])])]),_:2},1032,["modelValue"])]),_:2},1032,["onClick"]),a(x,{dense:"",flat:"","fab-mini":"",color:"red",icon:"delete",title:"Delete bookmark",onClick:ue(h=>e.deleteBookmark(m),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])),[[ut]])),128))]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]),V("div",Xn,[t[41]||(t[41]=V("p",{class:"q-ma-none"},"Stuck?",-1)),a(x,{size:"sm",color:"secondary",onClick:t[23]||(t[23]=l=>e.resetPosition())},{default:r(()=>t[40]||(t[40]=[O("Reset position")])),_:1})])]),_:1},8,["style"]),a(ma,{showing:e.loading},{default:r(()=>[a(Zt,{size:"xl",color:"primary"})]),_:1},8,["showing"])]),_:1},8,["managerProps"])}var _n=Ge(Bn,[["render",Yn],["__scopeId","data-v-7087e41f"]]);const Zn={...wl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},pl=50,ba=2*pl,ya=ba*Math.PI,ei=Math.round(ya*1e3)/1e3;var ti=Re({name:"QCircularProgress",props:{...Zn,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Je(),i=Sl(e),n=c(()=>{const b=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),d=c(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=c(()=>ba/(1-e.thickness/2)),l=c(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),m=c(()=>$t(e.value,e.min,e.max)),h=c(()=>e.max-e.min),y=c(()=>e.thickness/2*s.value),T=c(()=>{const b=(e.max-m.value)/h.value,$=e.rounded===!0&&m.value<e.max&&b<.25?y.value/2*(1-b/.25):0;return ya*b+$});function v({thickness:b,offset:$,color:F,cls:q,rounded:J}){return f("circle",{class:"q-circular-progress__"+q+(F!==void 0?` text-${F}`:""),style:d.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":ei,"stroke-dashoffset":$,"stroke-linecap":J,cx:s.value,cy:s.value,r:pl})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:pl-y.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(v({cls:"track",thickness:y.value,offset:0,color:e.trackColor})),b.push(v({cls:"circle",thickness:y.value,offset:T.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const $=[f("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:l.value,"aria-hidden":"true"},b)];return e.showValue===!0&&$.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[f("div",m.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:m.value},aa(t.internal,$))}}});const li=Ue({name:"PeopleOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{applicationStore:ht}},data(){return{showVolumeSlider:{},canKick:!1}},methods:{getProfilePicture(e){},getDisplayName(e){return e.displayName??"anonymous"},setVolume(e,t){var o;if(typeof t=="number"){const i=(o=xt.ActiveDomain)==null?void 0:o.DomainClient;i&&i.users.setAvatarGain(e,ja.getGainFromPercentage(t)),this.applicationStore.updateAvatarProperty(e,"volume",t)}},complementMuted(e){var i;const t=!e.muted,o=(i=xt.ActiveDomain)==null?void 0:i.DomainClient;o&&o.users.setPersonalMute(e.sessionId,t),this.applicationStore.updateAvatarProperty(e.sessionId,"muted",t)},teleportToAvatar(e){Kt.getScene().teleportMyAvatarToOtherPeople(e.sessionId.stringify())},banByIP(){return rl.BanFlags.BAN_BY_USERNAME+rl.BanFlags.BAN_BY_FINGERPRINT+rl.BanFlags.BAN_BY_IP},adminServerMute(e){var o;const t=(o=xt.ActiveDomain)==null?void 0:o.DomainClient;t&&t.users.mute(e)},adminKick(e,t){var i;const o=(i=xt.ActiveDomain)==null?void 0:i.DomainClient;o&&o.users.kick(e,t)}},mounted(){var t;const e=(t=xt.ActiveDomain)==null?void 0:t.DomainClient;this.canKick=Boolean(e==null?void 0:e.users.canKick),e==null||e.users.canKickChanged.connect(()=>{this.canKick=Boolean(e==null?void 0:e.users.canKick)})}}),ai=["src"],oi={key:1,style:{"user-select":"none"}},ni={class:"row",style:{"justify-content":"space-between","align-items":"center",gap:"16px"}},ii={class:"row",style:{position:"relative","justify-content":"flex-end","align-items":"center",gap:"4px"}},ri={style:{all:"inherit",position:"relative"}},si={key:1,class:"text-subtitle1 text-grey text-center q-mt-md"};function ui(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"people",title:`People (${Array.from(e.applicationStore.avatars.avatarsInfo.keys()).length})`,managerProps:e.propsToPass,defaultHeight:500,defaultWidth:400,defaultLeft:300,hoverShowBar:!1,style:{"box-shadow":"0 1px 5px rgb(0 0 0 / 20%), 0 2px 2px rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%)",border:"none"}},{default:r(()=>[a(ft,{class:"column no-wrap items-stretch full-height",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[a(gt,{class:"col",style:{height:"100%"}},{default:r(()=>[Array.from(e.applicationStore.avatars.avatarsInfo.keys()).length>0?(C(),ee(tt,{key:0},{default:r(()=>[(C(!0),D(We,null,ct(e.applicationStore.avatars.avatarsInfo.values(),l=>(C(),ee(ce,{key:l.sessionId.stringify(),class:"q-mb-none q-pa-sm",dense:""},{default:r(()=>[a(E,{avatar:"",class:"q-gutter-y-sm"},{default:r(()=>[a(la,{color:"primary"},{default:r(()=>[e.getProfilePicture(l)?(C(),D("img",{key:0,src:e.getProfilePicture(l)},null,8,ai)):(C(),D("span",oi,te(e.getDisplayName(l).substring(0,2)),1))]),_:2},1024),l.isAdmin?(C(),ee(dt,{key:0,caption:"",lines:"1"},{default:r(()=>t[1]||(t[1]=[O("Admin")])),_:1})):ze("",!0)]),_:2},1024),a(E,null,{default:r(()=>{var m;return[V("div",ni,[a(dt,null,{default:r(()=>[O(te(e.getDisplayName(l)),1)]),_:2},1024),V("div",ii,[V("div",{style:pt({opacity:e.showVolumeSlider[l.sessionId.stringify()]?0:1,transition:e.showVolumeSlider[l.sessionId.stringify()]?"none":"0.25s ease opacity",pointerEvents:e.showVolumeSlider[l.sessionId.stringify()]?"none":"all"})},[a(x,{icon:"place","text-color":"primary",flat:"",round:"",dense:"",ripple:"",title:`Teleport to ${l.displayName}`,onClick:ue(h=>e.teleportToAvatar(l),["stop"])},null,8,["title","onClick"]),a(x,{icon:"person_add_alt_1","text-color":"primary",flat:"",round:"",dense:"",ripple:"",title:`Add ${l.displayName} as a friend`,disable:"",onClick:t[0]||(t[0]=ue(()=>{},["stop"]))},null,8,["title"]),e.canKick?(C(),D(We,{key:0},[a(x,{icon:"logout","text-color":"negative",flat:"",round:"",dense:"",ripple:"",title:`Kick ${l.displayName}`,disable:!e.canKick,onClick:ue(h=>e.adminKick(l.sessionId),["stop"])},null,8,["title","disable","onClick"]),a(x,{icon:"remove_circle","text-color":"negative",flat:"",round:"",dense:"",ripple:"",title:`IP Ban ${l.displayName}`,disable:!e.canKick,onClick:ue(h=>e.adminKick(l.sessionId,e.banByIP()),["stop"])},null,8,["title","disable","onClick"]),a(x,{icon:"mic_off","text-color":"negative",flat:"",round:"",dense:"",ripple:"",title:`Server mute ${l.displayName}`,disable:!e.canKick,onClick:ue(h=>e.adminServerMute(l.sessionId),["stop"])},null,8,["title","disable","onClick"])],64)):ze("",!0)],4),V("div",ri,[a(mt,{thumbSize:"26px",min:0,max:100,step:5,snap:"",dark:"",color:l.muted||l.volume===0?"red":"primary",title:`Volume: ${l.volume}%`,class:"volumeSlider",style:pt({opacity:e.showVolumeSlider[l.sessionId.stringify()]?1:0,transition:e.showVolumeSlider[l.sessionId.stringify()]?"0.25s ease opacity":"none",pointerEvents:e.showVolumeSlider[l.sessionId.stringify()]?"all":"none"}),"model-value":l.volume,"onUpdate:modelValue":h=>e.setVolume(l.sessionId,h)},null,8,["color","title","style","model-value","onUpdate:modelValue"]),a(x,{"text-color":l.muted||l.volume===0?"red":"primary",flat:"",round:"",dense:"",ripple:"",title:`Adjust ${((m=l.displayName[l.displayName.length-1])==null?void 0:m.toLowerCase())==="s"?l.displayName+"'":l.displayName+"'s"} volume`,onClick:ue(h=>e.showVolumeSlider[l.sessionId.stringify()]=!e.showVolumeSlider[l.sessionId.stringify()],["stop"])},{default:r(()=>[a(ti,{angle:180,value:l.volume,"instant-feedback":"",size:"xs",thickness:.3,"track-color":"transparent","show-value":"",class:"q-ma-none"},{default:r(()=>t[2]||(t[2]=[V("span",{class:"volumeIcon"},null,-1)])),_:2},1032,["value"])]),_:2},1032,["text-color","title","onClick"])]),a(x,{icon:l.muted||l.volume===0?"volume_off":"volume_up","text-color":l.muted||l.volume===0?"red":"primary",flat:"",round:"",dense:"",ripple:"",title:l.muted||l.volume===0?`Unmute ${l.displayName}`:`Mute ${l.displayName}`,onClick:ue(h=>e.complementMuted(l),["stop"])},null,8,["icon","text-color","title","onClick"])])])]}),_:2},1024)]),_:2},1024))),128))]),_:1})):(C(),D("p",si,"There is no one else in this server."))]),_:1})]),_:1})]),_:1},8,["title","managerProps"])}var di=Ge(li,[["render",ui],["__scopeId","data-v-0b38fe06"]]);const ci=Ue({name:"AvatarOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{userStore:Gt}},data(){return{AvatarStoreInterface:it,avatarList:{},listFilterValue:"",modelCreateDialog:!1,customModel:{name:"",image:"",url:""},loadingAvatar:!1,fallbackModelId:Ka()}},computed:{displayNameStore:{get:function(){return this.userStore.avatar.displayName},set:function(e){var i;yt.debug(yt.types.AVATAR,`Avatar.vue: set displayNameStore. inputInfo=${e}`);const o=(i=Kt.getScene()._myAvatar)==null?void 0:i.getComponent(Il.typeName);o instanceof Il&&(o.displayName=e),this.userStore.avatar.displayName=e}},activeModelNameStore:{get:function(){return it.getActiveModelData("name")},set:function(e){it.setActiveModelData("name",e)}},activeModelFileStore:{get:function(){return it.getActiveModelData("file")},set:function(e){it.setActiveModelData("file",e)}}},methods:{loadAvatarList(){this.avatarList={};const e=this.sortAvatarList(this.listFilterValue);for(let t=0;t<e.length;t++){const o=e[t][0],i=e[t][1];this.avatarList[o]={avatar:i,showMoreOptions:!1}}},async selectAvatar(e,t){!this.loadingAvatar&&e in this.userStore.avatar.models&&(this.loadingAvatar=!0,it.setActiveModel(e),await Kt.getScene().loadMyAvatar(it.getModelData(e,"file"),t),this.loadingAvatar=!1)},validateDisplayName(e){return/^(?=[a-z0-9._-\s]{2,20}$)(?!.*[-_.\s]{2})[^-_.\s].*[^-_.\s]$/i.test(e)},validateModelName(e){return/^(?=[a-z0-9._-\s]{2,20}$)(?!.*[-_.\s]{2})[^-_.\s].*[^-_.\s]$/i.test(e)},validateModelFile(e){return/(?:\.glb|\.gltf)$/iu.test(e)},validateModelImage(e){return/(?:\.png|\.jpg|\.jpeg|\.webp)$/iu.test(e)},filterAvatarList(e){if(!e||e==="")return this.userStore.avatar.models;const t={};return Object.entries(this.userStore.avatar.models).forEach(o=>{o[1].name.toLowerCase().includes(e.toLowerCase())&&(t[o[0]]=o[1])}),t},sortAvatarList(e){const t=Object.entries(this.filterAvatarList(e));return t.sort((o,i)=>{let n=0;const d=o[1].starred,s=i[1].starred;return d&&d!==s?n=-1:n=1,n}),t},saveCustomAvatar(){this.validateModelName(this.customModel.name)&&this.validateModelFile(this.customModel.url)&&(it.createNewModel({name:this.customModel.name,image:this.customModel.image,file:this.customModel.url,scale:1,starred:!0},!0),this.customModel.name="",this.customModel.image="",this.customModel.url="",this.loadAvatarList())}},beforeMount(){this.loadAvatarList()}}),mi={class:"row q-mb-sm q-px-md"},fi={class:"col"},vi={title:"Display name",class:"text-h5 text-left q-pl-md q-mt-md q-mb-sm cursor-pointer"},pi={class:"row q-ml-md q-pl-xs",style:{border:"1px solid #8888","border-radius":"7px"}},gi={class:"q-my-xs q-mr-sm q-ml-auto"},hi={class:"row q-gutter-x-md text-subtitle1 text-left q-px-md q-mt-sm q-mb-xs",style:{"flex-flow":"row nowrap"}},bi={class:"row q-gutter-x-md"},yi={style:{height:"100%"},class:"column no-wrap items-stretch full-height"},Si={key:1,class:"text-subtitle1 text-grey text-center q-mt-md"},wi={class:"text-subtitle1 text-center q-mt-xs q-mb-xs"};function ki(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"directions_run",title:"Avatar",managerProps:e.propsToPass,defaultHeight:730,defaultWidth:380,defaultLeft:250,defaultTop:50,hoverShowBar:!1,style:{"box-shadow":"0 1px 5px rgb(0 0 0 / 20%), 0 2px 2px rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%)",border:"none"}},{default:r(()=>[a(ft,{class:"column no-wrap items-stretch full-height non-selectable",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[V("div",mi,[e.AvatarStoreInterface.getActiveModelData("image")?(C(),ee(Nl,{key:0,src:e.AvatarStoreInterface.getActiveModelData("image"),draggable:!1,width:"100px",height:"100px",ratio:"1",class:"q-mt-md q-mb-xs",style:{"border-radius":"7px"}},null,8,["src"])):(C(),ee(ke,{key:1,name:"mood",size:"xl",class:"q-pt-md q-pb-xs",style:{width:"100px",height:"100px"}})),V("div",fi,[V("div",vi,[O(te(e.displayNameStore)+" ",1),Fe((C(),ee(ke,{title:"Edit display name","q-hoverable":"",name:"edit",class:"text-grey q-ml-sm"},{default:r(()=>t[16]||(t[16]=[V("span",{class:"q-focus-helper"},null,-1)])),_:1})),[[ut]]),a(rt,{modelValue:e.displayNameStore,"onUpdate:modelValue":t[0]||(t[0]=l=>e.displayNameStore=l),"auto-save":"",validate:e.validateDisplayName},{default:r(l=>[a(de,{modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,dense:"",autofocus:"",counter:"",label:"Display Name",color:e.validateDisplayName(l.value)?"primary":"negative",onKeyup:Rt(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","color","onKeyup"])]),_:1},8,["modelValue","validate"])]),V("div",pi,[V("div",{class:wt(["q-my-auto q-ml-sm text-subtitle2 text-no-wrap ellipsis",{"cursor-pointer":e.userStore.avatar.activeModel!==e.fallbackModelId}]),title:"Avatar name"},[O(te(e.activeModelNameStore)+" ",1),e.userStore.avatar.activeModel!==e.fallbackModelId?(C(),ee(rt,{key:0,modelValue:e.activeModelNameStore,"onUpdate:modelValue":t[1]||(t[1]=l=>e.activeModelNameStore=l),"auto-save":"",validate:e.validateModelName},{default:r(l=>[a(de,{modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,dense:"",autofocus:"",counter:"",label:"Avatar name",color:e.validateModelName(l.value)?"primary":"negative",onKeyup:Rt(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","color","onKeyup"])]),_:1},8,["modelValue","validate"])):ze("",!0)],2),V("div",gi,[a(x,{flat:"",round:"",dense:"",ripple:"",icon:e.AvatarStoreInterface.getActiveModelData("starred")?"star":"star_outline","text-color":e.AvatarStoreInterface.getActiveModelData("starred")?"yellow":e.$q.dark.isActive?"white":"dark",title:"Favorite",class:"text-caption",onClick:t[2]||(t[2]=ue(()=>{e.AvatarStoreInterface.setActiveModelData("starred",!e.AvatarStoreInterface.getActiveModelData("starred")),e.loadAvatarList()},["stop"]))},null,8,["icon","text-color"]),a(x,{flat:"",round:"",dense:"",ripple:"",icon:"refresh",title:"Reload",class:"text-caption",onClick:t[3]||(t[3]=ue(l=>e.selectAvatar(e.userStore.avatar.activeModel,!0),["stop"]))})])])])]),a(Nt,{inset:"",spaced:""}),V("div",hi,[t[20]||(t[20]=V("p",{class:"q-my-auto"},"My Avatars",-1)),a(x,{dense:"",round:"",color:"primary",icon:"add",title:"Add a new avatar",class:"q-mt-xs",style:{width:"2.4em",height:"2.4em"}},{default:r(()=>[a(rt,{modelValue:e.modelCreateDialog,"onUpdate:modelValue":t[7]||(t[7]=l=>e.modelCreateDialog=l)},{default:r(l=>[t[19]||(t[19]=O(" New Avatar ")),a(de,{modelValue:e.customModel.image,"onUpdate:modelValue":t[4]||(t[4]=m=>e.customModel.image=m),label:"Image URL (optional)",dense:"",color:e.validateModelImage(e.customModel.image)||e.customModel.image.length<1?"primary":"negative"},null,8,["modelValue","color"]),a(de,{modelValue:e.customModel.url,"onUpdate:modelValue":t[5]||(t[5]=m=>e.customModel.url=m),label:"Model URL",dense:"",color:e.validateModelFile(e.customModel.url)||e.customModel.url.length<1?"primary":"negative"},null,8,["modelValue","color"]),a(de,{modelValue:e.customModel.name,"onUpdate:modelValue":t[6]||(t[6]=m=>e.customModel.name=m),label:"Name",dense:"",counter:"",color:e.validateModelName(l.value)?"primary":"negative"},null,8,["modelValue","color"]),V("div",bi,[a(x,{onClick:()=>{l.cancel()}},{default:r(()=>t[17]||(t[17]=[O("Cancel")])),_:2},1032,["onClick"]),a(x,{color:"primary",onClick:()=>{l.set(),e.saveCustomAvatar()}},{default:r(()=>t[18]||(t[18]=[O("Ok")])),_:2},1032,["onClick"])])]),_:1},8,["modelValue"])]),_:1}),a(de,{standout:"",dense:"",rounded:"",class:"avatar-search",style:{"max-width":"40%","margin-left":"auto"},label:"Search",modelValue:e.listFilterValue,"onUpdate:modelValue":t[8]||(t[8]=l=>e.listFilterValue=l),clearable:"",onKeyup:t[9]||(t[9]=l=>e.loadAvatarList()),onChange:t[10]||(t[10]=l=>e.loadAvatarList()),onClear:t[11]||(t[11]=l=>e.loadAvatarList())},null,8,["modelValue"])]),V("div",yi,[a(gt,{class:"col",style:{height:"100%"}},{default:r(()=>[Object.entries(e.avatarList).length>0?(C(),ee(tt,{key:0},{default:r(()=>[(C(!0),D(We,null,ct(e.avatarList,(l,m)=>Fe((C(),ee(ce,{key:m,active:m===e.userStore.avatar.activeModel,class:"q-mb-sm",clickable:"",onClick:h=>e.selectAvatar(m)},{default:r(()=>[a(E,{avatar:""},{default:r(()=>[l.avatar.image?(C(),ee(Nl,{key:0,src:l.avatar.image,draggable:!1,ratio:"1",style:{"border-radius":"7px"}},null,8,["src"])):(C(),ee(ke,{key:1,name:"mood",size:"lg"}))]),_:2},1024),a(Qa,{name:"slide-left"},{default:r(()=>[l.showMoreOptions?(C(),ee(E,{key:"back",style:{top:"8px !important","flex-flow":"row nowrap","justify-content":"flex-start",height:"60%","margin-top":"3px"}},{default:r(()=>[m!==e.fallbackModelId?(C(),D(We,{key:0},[a(x,{flat:"",round:"",dense:"",ripple:"",icon:"edit","text-color":e.$q.dark.isActive?"white":"dark",title:"Rename",onClick:t[12]||(t[12]=ue(()=>{},["stop"]))},{default:r(()=>[a(rt,{"model-value":l.avatar.name,"onUpdate:modelValue":h=>{e.AvatarStoreInterface.setModelData(m,"name",h)},"auto-save":"",validate:e.validateModelName,buttons:""},{default:r(h=>[a(de,{modelValue:h.value,"onUpdate:modelValue":y=>h.value=y,dense:"",autofocus:"",counter:"",label:"Avatar Name",color:e.validateModelName(h.value)?"primary":"negative",onKeyup:Rt(h.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","color","onKeyup"])]),_:2},1032,["model-value","onUpdate:modelValue","validate"])]),_:2},1032,["text-color"]),a(x,{flat:"",round:"",dense:"",ripple:"",icon:"image","text-color":e.$q.dark.isActive?"white":"dark",title:"Change avatar image",onClick:t[13]||(t[13]=ue(()=>{},["stop"]))},{default:r(()=>[a(rt,{"model-value":l.avatar.image,"onUpdate:modelValue":h=>{e.AvatarStoreInterface.setModelData(m,"image",h)},"auto-save":"",validate:e.validateModelImage,buttons:""},{default:r(h=>[a(de,{modelValue:h.value,"onUpdate:modelValue":y=>h.value=y,dense:"",autofocus:"",counter:"",label:"Image URL",color:e.validateModelImage(h.value)?"primary":"negative",onKeyup:Rt(h.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","color","onKeyup"])]),_:2},1032,["model-value","onUpdate:modelValue","validate"])]),_:2},1032,["text-color"]),a(x,{flat:"",round:"",dense:"",ripple:"",icon:"link","text-color":e.$q.dark.isActive?"white":"dark",title:"Change avatar file",onClick:t[14]||(t[14]=ue(()=>{},["stop"]))},{default:r(()=>[a(rt,{"model-value":l.avatar.file,"onUpdate:modelValue":h=>{e.AvatarStoreInterface.setModelData(m,"file",h)},"auto-save":"",validate:e.validateModelFile,buttons:""},{default:r(h=>[a(de,{modelValue:h.value,"onUpdate:modelValue":y=>h.value=y,dense:"",autofocus:"",counter:"",label:"Model URL",color:e.validateModelFile(h.value)?"primary":"negative",onKeyup:Rt(h.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","color","onKeyup"])]),_:2},1032,["model-value","onUpdate:modelValue","validate"])]),_:2},1032,["text-color"]),a(x,{flat:"",round:"",dense:"",ripple:"",icon:"delete","text-color":"red",title:"Remove avatar",onClick:ue(h=>{e.AvatarStoreInterface.removeModel(m),e.loadAvatarList()},["stop"])},null,8,["onClick"])],64)):ze("",!0)]),_:2},1024)):(C(),ee(E,{key:"front"},{default:r(()=>[O(te(l.avatar.name),1)]),_:2},1024))]),_:2},1024),a(E,{style:{"flex-flow":"row nowrap",flex:"none",height:"100%","margin-top":"3px"}},{default:r(()=>[m!==e.fallbackModelId?(C(),ee(x,{key:0,flat:"",round:"",dense:"",ripple:"",icon:"more_horiz","text-color":e.$q.dark.isActive?"white":"dark",title:"More options",onClick:ue(h=>l.showMoreOptions=!l.showMoreOptions,["stop"])},null,8,["text-color","onClick"])):ze("",!0),a(x,{flat:"",round:"",dense:"",ripple:"",icon:l.avatar.starred?"star":"star_outline","text-color":l.avatar.starred?"yellow":e.$q.dark.isActive?"white":"dark",title:"Favorite",onClick:ue(h=>e.AvatarStoreInterface.setModelData(m,"starred",!l.avatar.starred),["stop"])},null,8,["icon","text-color","onClick"])]),_:2},1024)]),_:2},1032,["active","onClick"])),[[ut]])),128))]),_:1})):(C(),D("p",Si,"You have no saved avatars."))]),_:1})]),a(Nt,{inset:"",spaced:""}),V("p",wi,te(Object.entries(e.userStore.avatar.models).length>0?"Or c":"C")+"reate your own avatar with: ",1),a(ce,{class:"q-pb-lg"},{default:r(()=>[a(E,null,{default:r(()=>[a(x,{color:"cyan-12","text-color":"dark",onClick:t[15]||(t[15]=l=>e.$emit("overlay-action","openOverlay:ReadyPlayerMe"))},{default:r(()=>t[21]||(t[21]=[O("Ready Player Me")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["managerProps"])}var Ci=Ge(ci,[["render",ki],["__scopeId","data-v-959bebba"]]);const Vi=Ue({name:"ReadyPlayerMeOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},data(){return{loading:!1,longLoad:!1,error:!1,frame:{},subdomain:"vircadia"}},methods:{parse(e){try{return JSON.parse(e.data)}catch{return null}},subscribe(e){const t=this.parse(e);if((t==null?void 0:t.source)==="readyplayerme"){if(this.frame.contentWindow&&(t==null?void 0:t.eventName)==="v1.frame.ready"&&this.frame.contentWindow.postMessage(JSON.stringify({target:"readyplayerme",type:"subscribe",eventName:"v1.**"}),"*"),(t==null?void 0:t.eventName)==="v1.avatar.exported"){const o=t.data.url;console.log(`Avatar URL: ${o}`),this.setAvatar(o)}(t==null?void 0:t.eventName)==="v1.user.set"&&console.log(`User with id ${t.data.id} set: ${JSON.stringify(t)}`)}},renderAvatarImage(e){const o={model:it.getModelData(e,"file"),scene:"fullbody-portrait-v1-transparent",blendShapes:{Wolf3D_Avatar:{mouthSmile:.5}}},i=new XMLHttpRequest;i.open("POST","https://render.readyplayer.me/render"),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(o)),i.onload=function(){const d=JSON.parse(i.responseText).renders[0];it.setModelData(e,"image",d)}},setAvatar(e){const t=Kt.getScene();this.loading=!0;const o=window.setTimeout(()=>{this.longLoad=!0},15e3),i=it.createNewModel({name:"New Avatar",image:"",file:e,scale:1,starred:!0});this.renderAvatarImage(i),t.loadMyAvatar(e).then(()=>{this.loading=!1,window.clearTimeout(o),this.longLoad=!1,this.closeOverlay()}).catch(n=>{console.warn("Failed to load RPM avatar:",n),this.loading=!1,window.clearTimeout(o),this.longLoad=!1,this.error=!0,window.setTimeout(()=>{this.error=!1},1e3)})},closeOverlay(){this.$emit("overlay-action","close")}},mounted(){this.frame=document.getElementById("rpm_frame"),this.frame.src=`https://${this.subdomain}.readyplayer.me/avatar?frameApi`,window.addEventListener("message",e=>{this.subscribe(e)}),document.addEventListener("message",e=>{this.subscribe(e)})}}),$i={key:0,class:"absolute-center",style:{display:"flex","flex-flow":"column nowrap","align-items":"center",gap:"10px","text-align":"center"}},Ai={key:0},Mi={key:1},qi={key:1,class:"absolute-center bg-negative q-px-md q-py-sm rounded-borders"},Ti={id:"rpm_frame",title:"Ready Player Me",name:"ReadyPlayerMe",width:"800",height:"600",allowfullscreen:"false",allowpaymentrequest:"false",allow:"camera *; microphone *; clipboard-write",frameBorder:"0",style:{width:"100%",height:"100%"}};function Li(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"face",title:"Ready Player Me",managerProps:e.propsToPass,defaultHeight:800,defaultWidth:800,defaultLeft:300,defaultTop:10,hoverShowBar:!1,style:{"box-shadow":"0 1px 5px rgb(0 0 0 / 20%), 0 2px 2px rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%)",border:"none"}},{default:r(()=>[a(ft,{class:"column no-wrap items-stretch full-height",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[e.loading&&!e.error?(C(),D("div",$i,[a(Zt,{size:"xl",class:"q-ma-none",style:{"margin-left":"-16px"}}),e.longLoad?(C(),D("p",Ai,"This is taking longer than usual. Hang on...")):(C(),D("p",Mi,"Loading avatar..."))])):ze("",!0),e.error?(C(),D("p",qi,"Something went wrong. Please try again.")):ze("",!0),Fe(V("iframe",Ti,null,512),[[Vt,!e.loading&&!e.error]])]),_:1})]),_:1},8,["managerProps"])}var Pi=Ge(Vi,[["render",Li]]),Bi=Re({name:"QField",inheritAttrs:!1,props:{...Cl,tag:{type:String,default:"label"}},emits:sa,setup(){return ua(da({tagProp:!0}))}});const Ii={xs:8,sm:10,md:14,lg:20,xl:24};var zi=Re({name:"QChip",props:{...Mt,...wl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:o}){const{proxy:{$q:i}}=Je(),n=qt(e,i),d=Sl(e,Ii),s=c(()=>e.selected===!0||e.icon!==void 0),l=c(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),m=c(()=>e.iconRemove||i.iconSet.chip.remove),h=c(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),y=c(()=>{const q=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(q?` text-${q} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(n.value===!0?" q-chip--dark q-dark":"")}),T=c(()=>{const q=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},J={...q,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:q,remove:J}});function v(q){q.keyCode===13&&b(q)}function b(q){e.disable||(o("update:selected",!e.selected),o("click",q))}function $(q){(q.keyCode===void 0||q.keyCode===13)&&(Xe(q),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function F(){const q=[];h.value===!0&&q.push(f("div",{class:"q-focus-helper"})),s.value===!0&&q.push(f(ke,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const J=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return q.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},aa(t.default,J))),e.iconRight&&q.push(f(ke,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&q.push(f(ke,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...T.value.remove,onClick:$,onKeyup:$})),q}return()=>{if(e.modelValue===!1)return;const q={class:y.value,style:d.value};return h.value===!0&&Object.assign(q,T.value.chip,{onClick:b,onKeyup:v}),_t("div",q,F(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ut,e.ripple]])}}});const st=1e3,Oi=["start","center","end","start-force","center-force","end-force"],Sa=Array.prototype.filter,Ri=window.getComputedStyle(document.body).overflowAnchor===void 0?Ja:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];Sa.call(o,n=>n.dataset&&n.dataset.qVsAnchor!==void 0).forEach(n=>{delete n.dataset.qVsAnchor});const i=o[t];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function Et(e,t){return e+t}function ml(e,t,o,i,n,d,s,l){const m=e===window?document.scrollingElement||document.documentElement:e,h=n===!0?"offsetWidth":"offsetHeight",y={scrollStart:0,scrollViewSize:-s-l,scrollMaxSize:0,offsetStart:-s,offsetEnd:-l};if(n===!0?(e===window?(y.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,y.scrollViewSize+=document.documentElement.clientWidth):(y.scrollStart=m.scrollLeft,y.scrollViewSize+=m.clientWidth),y.scrollMaxSize=m.scrollWidth,d===!0&&(y.scrollStart=(Qt===!0?y.scrollMaxSize-y.scrollViewSize:0)-y.scrollStart)):(e===window?(y.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,y.scrollViewSize+=document.documentElement.clientHeight):(y.scrollStart=m.scrollTop,y.scrollViewSize+=m.clientHeight),y.scrollMaxSize=m.scrollHeight),o!==null)for(let T=o.previousElementSibling;T!==null;T=T.previousElementSibling)T.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetStart+=T[h]);if(i!==null)for(let T=i.nextElementSibling;T!==null;T=T.nextElementSibling)T.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetEnd+=T[h]);if(t!==e){const T=m.getBoundingClientRect(),v=t.getBoundingClientRect();n===!0?(y.offsetStart+=v.left-T.left,y.offsetEnd-=v.width):(y.offsetStart+=v.top-T.top,y.offsetEnd-=v.height),e!==window&&(y.offsetStart+=y.scrollStart),y.offsetEnd+=y.scrollMaxSize-y.offsetStart}return y}function Kl(e,t,o,i){t==="end"&&(t=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(i===!0&&(t=(Qt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):o===!0?(i===!0&&(t=(Qt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Ht(e,t,o,i){if(o>=i)return 0;const n=t.length,d=Math.floor(o/st),s=Math.floor((i-1)/st)+1;let l=e.slice(d,s).reduce(Et,0);return o%st!==0&&(l-=t.slice(d*st,o).reduce(Et,0)),i%st!==0&&i!==n&&(l-=t.slice(i,s*st).reduce(Et,0)),l}const Ni={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ql={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ni};function Ei({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:o,virtualScrollItemSizeComputed:i}){const n=Je(),{props:d,emit:s,proxy:l}=n,{$q:m}=l;let h,y,T,v=[],b;const $=z(0),F=z(0),q=z({}),J=z(null),G=z(null),S=z(null),M=z({from:0,to:0}),_=c(()=>d.tableColspan!==void 0?d.tableColspan:100);i===void 0&&(i=c(()=>d.virtualScrollItemSize));const R=c(()=>i.value+";"+d.virtualScrollHorizontal),oe=c(()=>R.value+";"+d.virtualScrollSliceRatioBefore+";"+d.virtualScrollSliceRatioAfter);Ye(oe,()=>{ne()}),Ye(R,ye);function ye(){je(y,!0)}function Ce(p){je(p===void 0?y:p)}function Ne(p,A){const W=t();if(W==null||W.nodeType===8)return;const se=ml(W,o(),J.value,G.value,d.virtualScrollHorizontal,m.lang.rtl,d.virtualScrollStickySizeStart,d.virtualScrollStickySizeEnd);T!==se.scrollViewSize&&ne(se.scrollViewSize),N(W,se,Math.min(e.value-1,Math.max(0,parseInt(p,10)||0)),0,Oi.indexOf(A)!==-1?A:y!==-1&&p>y?"end":"start")}function Le(){const p=t();if(p==null||p.nodeType===8)return;const A=ml(p,o(),J.value,G.value,d.virtualScrollHorizontal,m.lang.rtl,d.virtualScrollStickySizeStart,d.virtualScrollStickySizeEnd),W=e.value-1,se=A.scrollMaxSize-A.offsetStart-A.offsetEnd-F.value;if(h===A.scrollStart)return;if(A.scrollMaxSize<=0){N(p,A,0,0);return}T!==A.scrollViewSize&&ne(A.scrollViewSize),Ve(M.value.from);const fe=Math.floor(A.scrollMaxSize-Math.max(A.scrollViewSize,A.offsetEnd)-Math.min(b[W],A.scrollViewSize/2));if(fe>0&&Math.ceil(A.scrollStart)>=fe){N(p,A,W,A.scrollMaxSize-A.offsetEnd-v.reduce(Et,0));return}let H=0,Z=A.scrollStart-A.offsetStart,Se=Z;if(Z<=se&&Z+A.scrollViewSize>=$.value)Z-=$.value,H=M.value.from,Se=Z;else for(let X=0;Z>=v[X]&&H<W;X++)Z-=v[X],H+=st;for(;Z>0&&H<W;)Z-=b[H],Z>-A.scrollViewSize?(H++,Se=Z):Se=b[H]+Z;N(p,A,H,Se)}function N(p,A,W,se,fe){const H=typeof fe=="string"&&fe.indexOf("-force")!==-1,Z=H===!0?fe.replace("-force",""):fe,Se=Z!==void 0?Z:"start";let X=Math.max(0,W-q.value[Se]),Me=X+q.value.total;Me>e.value&&(Me=e.value,X=Math.max(0,Me-q.value.total)),h=A.scrollStart;const xe=X!==M.value.from||Me!==M.value.to;if(xe===!1&&Z===void 0){Qe(W);return}const{activeElement:g}=document,I=S.value;xe===!0&&I!==null&&I!==g&&I.contains(g)===!0&&(I.addEventListener("focusout",Ie),setTimeout(()=>{I!==null&&I.removeEventListener("focusout",Ie)})),Ri(I,W-X);const j=Z!==void 0?b.slice(X,W).reduce(Et,0):0;if(xe===!0){const K=Me>=M.value.from&&X<=M.value.to?M.value.to:Me;M.value={from:X,to:K},$.value=Ht(v,b,0,X),F.value=Ht(v,b,Me,e.value),requestAnimationFrame(()=>{M.value.to!==Me&&h===A.scrollStart&&(M.value={from:M.value.from,to:Me},F.value=Ht(v,b,Me,e.value))})}requestAnimationFrame(()=>{if(h!==A.scrollStart)return;xe===!0&&Ve(X);const K=b.slice(X,W).reduce(Et,0),ve=K+A.offsetStart+$.value,Y=ve+b[W];let $e=ve+se;if(Z!==void 0){const we=K-j,Ee=A.scrollStart+we;$e=H!==!0&&Ee<ve&&Y<Ee+A.scrollViewSize?Ee:Z==="end"?Y-A.scrollViewSize:ve-(Z==="start"?0:Math.round((A.scrollViewSize-b[W])/2))}h=$e,Kl(p,$e,d.virtualScrollHorizontal,m.lang.rtl),Qe(W)})}function Ve(p){const A=S.value;if(A){const W=Sa.call(A.children,X=>X.classList&&X.classList.contains("q-virtual-scroll--skip")===!1),se=W.length,fe=d.virtualScrollHorizontal===!0?X=>X.getBoundingClientRect().width:X=>X.offsetHeight;let H=p,Z,Se;for(let X=0;X<se;){for(Z=fe(W[X]),X++;X<se&&W[X].classList.contains("q-virtual-scroll--with-prev")===!0;)Z+=fe(W[X]),X++;Se=Z-b[H],Se!==0&&(b[H]+=Se,v[Math.floor(H/st)]+=Se),H++}}}function Ie(){S.value!==null&&S.value!==void 0&&S.value.focus()}function je(p,A){const W=1*i.value;(A===!0||Array.isArray(b)===!1)&&(b=[]);const se=b.length;b.length=e.value;for(let H=e.value-1;H>=se;H--)b[H]=W;const fe=Math.floor((e.value-1)/st);v=[];for(let H=0;H<=fe;H++){let Z=0;const Se=Math.min((H+1)*st,e.value);for(let X=H*st;X<Se;X++)Z+=b[X];v.push(Z)}y=-1,h=void 0,$.value=Ht(v,b,0,M.value.from),F.value=Ht(v,b,M.value.to,e.value),p>=0?(Ve(M.value.from),Ze(()=>{Ne(p)})):_e()}function ne(p){if(p===void 0&&typeof window<"u"){const Z=t();Z!=null&&Z.nodeType!==8&&(p=ml(Z,o(),J.value,G.value,d.virtualScrollHorizontal,m.lang.rtl,d.virtualScrollStickySizeStart,d.virtualScrollStickySizeEnd).scrollViewSize)}T=p;const A=parseFloat(d.virtualScrollSliceRatioBefore)||0,W=parseFloat(d.virtualScrollSliceRatioAfter)||0,se=1+A+W,fe=p===void 0||p<=0?1:Math.ceil(p/i.value),H=Math.max(1,fe,Math.ceil((d.virtualScrollSliceSize>0?d.virtualScrollSliceSize:10)/se));q.value={total:Math.ceil(H*se),start:Math.ceil(H*A),center:Math.ceil(H*(.5+A)),end:Math.ceil(H*(1+A)),view:fe}}function Ke(p,A){const W=d.virtualScrollHorizontal===!0?"width":"height",se={["--q-virtual-scroll-item-"+W]:i.value+"px"};return[p==="tbody"?f(p,{class:"q-virtual-scroll__padding",key:"before",ref:J},[f("tr",[f("td",{style:{[W]:`${$.value}px`,...se},colspan:_.value})])]):f(p,{class:"q-virtual-scroll__padding",key:"before",ref:J,style:{[W]:`${$.value}px`,...se}}),f(p,{class:"q-virtual-scroll__content",key:"content",ref:S,tabindex:-1},A.flat()),p==="tbody"?f(p,{class:"q-virtual-scroll__padding",key:"after",ref:G},[f("tr",[f("td",{style:{[W]:`${F.value}px`,...se},colspan:_.value})])]):f(p,{class:"q-virtual-scroll__padding",key:"after",ref:G,style:{[W]:`${F.value}px`,...se}})]}function Qe(p){y!==p&&(d.onVirtualScroll!==void 0&&s("virtualScroll",{index:p,from:M.value.from,to:M.value.to-1,direction:p<y?"decrease":"increase",ref:l}),y=p)}ne();const _e=Ga(Le,m.platform.is.ios===!0?120:35);Xa(()=>{ne()});let ot=!1;return bl(()=>{ot=!0}),yl(()=>{if(ot!==!0)return;const p=t();h!==void 0&&p!==void 0&&p!==null&&p.nodeType!==8?Kl(p,h,d.virtualScrollHorizontal,m.lang.rtl):Ne(y)}),Jt(()=>{_e.cancel()}),Object.assign(l,{scrollTo:Ne,reset:ye,refresh:Ce}),{virtualScrollSliceRange:M,virtualScrollSliceSizeComputed:q,setVirtualScrollSize:ne,onVirtualScrollEvt:_e,localResetVirtualScroll:je,padVirtualScroll:Ke,scrollTo:Ne,reset:ye,refresh:Ce}}const Jl=e=>["add","add-unique","toggle"].includes(e),Di=".*+?^${}()|[]\\",Fi=Object.keys(Cl);function fl(e,t){if(typeof e=="function")return e;const o=e!==void 0?e:t;return i=>i!==null&&typeof i=="object"&&o in i?i[o]:i}var vl=Re({name:"QSelect",inheritAttrs:!1,props:{...Ql,...el,...Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Jl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Ql.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...sa,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:o}){const{proxy:i}=Je(),{$q:n}=i,d=z(!1),s=z(!1),l=z(-1),m=z(""),h=z(!1),y=z(!1);let T=null,v=null,b,$,F,q=null,J,G,S,M;const _=z(null),R=z(null),oe=z(null),ye=z(null),Ce=z(null),Ne=vo(e),Le=ko($l),N=c(()=>e.options.length),Ve=c(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Ie,virtualScrollSliceSizeComputed:je,localResetVirtualScroll:ne,padVirtualScroll:Ke,onVirtualScrollEvt:Qe,scrollTo:_e,setVirtualScrollSize:ot}=Ei({virtualScrollLength:N,getVirtualScrollTarget:Va,getVirtualScrollEl:Lt,virtualScrollItemSizeComputed:Ve}),p=da(),A=c(()=>{const u=e.mapOptions===!0&&e.multiple!==!0,L=e.modelValue!==void 0&&(e.modelValue!==null||u===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const P=e.mapOptions===!0&&b!==void 0?b:[],ae=L.map(be=>w(be,P));return e.modelValue===null&&u===!0?ae.filter(be=>be!==null):ae}return L}),W=c(()=>{const u={};return Fi.forEach(L=>{const P=e[L];P!==void 0&&(u[L]=P)}),u}),se=c(()=>e.optionsDark===null?p.isDark.value:e.optionsDark),fe=c(()=>Dl(A.value)),H=c(()=>{let u="q-field__input q-placeholder col";return e.hideSelected===!0||A.value.length===0?[u,e.inputClass]:(u+=" q-field__input--padding",e.inputClass===void 0?u:[u,e.inputClass])}),Z=c(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Se=c(()=>N.value===0),X=c(()=>A.value.map(u=>k.value(u)).join(", ")),Me=c(()=>e.displayValue!==void 0?e.displayValue:X.value),xe=c(()=>e.optionsHtml===!0?()=>!0:u=>u!=null&&u.html===!0),g=c(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||A.value.some(xe.value))),I=c(()=>p.focused.value===!0?e.tabindex:-1),j=c(()=>{const u={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":d.value===!0?"true":"false","aria-controls":`${p.targetUid.value}_lb`};return l.value>=0&&(u["aria-activedescendant"]=`${p.targetUid.value}_${l.value}`),u}),K=c(()=>({id:`${p.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ve=c(()=>A.value.map((u,L)=>({index:L,opt:u,html:xe.value(u),selected:!0,removeAtIndex:re,toggleOption:Pe,tabindex:I.value}))),Y=c(()=>{if(N.value===0)return[];const{from:u,to:L}=Ie.value;return e.options.slice(u,L).map((P,ae)=>{const be=B.value(P)===!0,me=U(P)===!0,De=u+ae,Ae={clickable:!0,active:me,activeClass:Ee.value,manualFocus:!0,focused:!1,disable:be,tabindex:-1,dense:e.optionsDense,dark:se.value,role:"option","aria-selected":me===!0?"true":"false",id:`${p.targetUid.value}_${De}`,onClick:()=>{Pe(P)}};return be!==!0&&(l.value===De&&(Ae.focused=!0),n.platform.is.desktop===!0&&(Ae.onMousemove=()=>{d.value===!0&&lt(De)})),{index:De,opt:P,html:xe.value(P),label:k.value(P),selected:Ae.active,focused:Ae.focused,toggleOption:Pe,setOptionIndex:lt,itemProps:Ae}})}),$e=c(()=>e.dropdownIcon!==void 0?e.dropdownIcon:n.iconSet.arrow.dropdown),we=c(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ee=c(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),qe=c(()=>fl(e.optionValue,"value")),k=c(()=>fl(e.optionLabel,"label")),B=c(()=>fl(e.optionDisable,"disable")),Q=c(()=>A.value.map(qe.value)),pe=c(()=>{const u={onInput:$l,onChange:Le,onKeydown:Tt,onKeyup:Be,onKeypress:nt,onFocus:le,onClick(L){$===!0&&et(L)}};return u.onCompositionstart=u.onCompositionupdate=u.onCompositionend=Le,u});Ye(A,u=>{b=u,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&p.innerLoading.value!==!0&&(s.value!==!0&&d.value!==!0||fe.value!==!0)&&(F!==!0&&zt(),(s.value===!0||d.value===!0)&&Pt(""))},{immediate:!0}),Ye(()=>e.fillInput,zt),Ye(d,tl),Ye(N,Ra);function ge(u){return e.emitValue===!0?qe.value(u):u}function ie(u){if(u!==-1&&u<A.value.length)if(e.multiple===!0){const L=e.modelValue.slice();o("remove",{index:u,value:L.splice(u,1)[0]}),o("update:modelValue",L)}else o("update:modelValue",null)}function re(u){ie(u),p.focus()}function Te(u,L){const P=ge(u);if(e.multiple!==!0){e.fillInput===!0&&Ut(k.value(u),!0,!0),o("update:modelValue",P);return}if(A.value.length===0){o("add",{index:0,value:P}),o("update:modelValue",e.multiple===!0?[P]:P);return}if(L===!0&&U(u)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ae=e.modelValue.slice();o("add",{index:ae.length,value:P}),ae.push(P),o("update:modelValue",ae)}function Pe(u,L){if(p.editable.value!==!0||u===void 0||B.value(u)===!0)return;const P=qe.value(u);if(e.multiple!==!0){L!==!0&&(Ut(e.fillInput===!0?k.value(u):"",!0,!0),kt()),R.value!==null&&R.value.focus(),(A.value.length===0||Ct(qe.value(A.value[0]),P)!==!0)&&o("update:modelValue",e.emitValue===!0?P:u);return}if(($!==!0||h.value===!0)&&p.focus(),le(),A.value.length===0){const me=e.emitValue===!0?P:u;o("add",{index:0,value:me}),o("update:modelValue",e.multiple===!0?[me]:me);return}const ae=e.modelValue.slice(),be=Q.value.findIndex(me=>Ct(me,P));if(be!==-1)o("remove",{index:be,value:ae.splice(be,1)[0]});else{if(e.maxValues!==void 0&&ae.length>=e.maxValues)return;const me=e.emitValue===!0?P:u;o("add",{index:ae.length,value:me}),ae.push(me)}o("update:modelValue",ae)}function lt(u){if(n.platform.is.desktop!==!0)return;const L=u!==-1&&u<N.value?u:-1;l.value!==L&&(l.value=L)}function bt(u=1,L){if(d.value===!0){let P=l.value;do P=El(P+u,-1,N.value-1);while(P!==-1&&P!==l.value&&B.value(e.options[P])===!0);l.value!==P&&(lt(P),_e(P),L!==!0&&e.useInput===!0&&e.fillInput===!0&&Xt(P>=0?k.value(e.options[P]):J,!0))}}function w(u,L){const P=ae=>Ct(qe.value(ae),u);return e.options.find(P)||L.find(P)||u}function U(u){const L=qe.value(u);return Q.value.find(P=>Ct(P,L))!==void 0}function le(u){e.useInput===!0&&R.value!==null&&(u===void 0||R.value===u.target&&u.target.value===X.value)&&R.value.select()}function he(u){Xl(u,27)===!0&&d.value===!0&&(et(u),kt(),zt()),o("keyup",u)}function Be(u){const{value:L}=u.target;if(u.keyCode!==void 0){he(u);return}if(u.target.value="",T!==null&&(clearTimeout(T),T=null),v!==null&&(clearTimeout(v),v=null),zt(),typeof L=="string"&&L.length!==0){const P=L.toLocaleLowerCase(),ae=me=>{const De=e.options.find(Ae=>me.value(Ae).toLocaleLowerCase()===P);return De===void 0?!1:(A.value.indexOf(De)===-1?Pe(De):kt(),!0)},be=me=>{ae(qe)!==!0&&(ae(k)===!0||me===!0||Pt(L,!0,()=>be(!0)))};be()}else p.clearValue(u)}function nt(u){o("keypress",u)}function Tt(u){if(o("keydown",u),Yl(u)===!0)return;const L=m.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),P=u.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(l.value!==-1||L===!0);if(u.keyCode===27){sl(u);return}if(u.keyCode===9&&P===!1){Bt();return}if(u.target===void 0||u.target.id!==p.targetUid.value||p.editable.value!==!0)return;if(u.keyCode===40&&p.innerLoading.value!==!0&&d.value===!1){Xe(u),It();return}if(u.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ie(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(u.keyCode===35||u.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(Xe(u),l.value=-1,bt(u.keyCode===36?1:-1,e.multiple)),(u.keyCode===33||u.keyCode===34)&&je.value!==void 0&&(Xe(u),l.value=Math.max(-1,Math.min(N.value,l.value+(u.keyCode===33?-1:1)*je.value.view)),bt(u.keyCode===33?1:-1,e.multiple)),(u.keyCode===38||u.keyCode===40)&&(Xe(u),bt(u.keyCode===38?-1:1,e.multiple));const ae=N.value;if((S===void 0||M<Date.now())&&(S=""),ae>0&&e.useInput!==!0&&u.key!==void 0&&u.key.length===1&&u.altKey===!1&&u.ctrlKey===!1&&u.metaKey===!1&&(u.keyCode!==32||S.length!==0)){d.value!==!0&&It(u);const be=u.key.toLocaleLowerCase(),me=S.length===1&&S[0]===be;M=Date.now()+1500,me===!1&&(Xe(u),S+=be);const De=new RegExp("^"+S.split("").map(ll=>Di.indexOf(ll)!==-1?"\\"+ll:ll).join(".*"),"i");let Ae=l.value;if(me===!0||Ae<0||De.test(k.value(e.options[Ae]))!==!0)do Ae=El(Ae+1,-1,ae-1);while(Ae!==l.value&&(B.value(e.options[Ae])===!0||De.test(k.value(e.options[Ae]))!==!0));l.value!==Ae&&Ze(()=>{lt(Ae),_e(Ae),Ae>=0&&e.useInput===!0&&e.fillInput===!0&&Xt(k.value(e.options[Ae]),!0)});return}if(!(u.keyCode!==13&&(u.keyCode!==32||e.useInput===!0||S!=="")&&(u.keyCode!==9||P===!1))){if(u.keyCode!==9&&Xe(u),l.value!==-1&&l.value<ae){Pe(e.options[l.value]);return}if(L===!0){const be=(me,De)=>{if(De){if(Jl(De)!==!0)return}else De=e.newValueMode;if(Ut("",e.multiple!==!0,!0),me==null)return;(De==="toggle"?Pe:Te)(me,De==="add-unique"),e.multiple!==!0&&(R.value!==null&&R.value.focus(),kt())};if(e.onNewValue!==void 0?o("newValue",m.value,be):be(m.value),e.multiple!==!0)return}d.value===!0?Bt():p.innerLoading.value!==!0&&It()}}function Lt(){return $===!0?Ce.value:oe.value!==null&&oe.value.contentEl!==null?oe.value.contentEl:void 0}function Va(){return Lt()}function $a(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?ve.value.map(u=>t["selected-item"](u)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?ve.value.map((u,L)=>f(zi,{key:"option-"+L,removable:p.editable.value===!0&&B.value(u.opt)!==!0,dense:!0,textColor:e.color,tabindex:I.value,onRemove(){u.removeAtIndex(L)}},()=>f("span",{class:"ellipsis",[u.html===!0?"innerHTML":"textContent"]:k.value(u.opt)}))):[f("span",{[g.value===!0?"innerHTML":"textContent"]:Me.value})]}function Vl(){if(Se.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:m.value}):void 0;const u=t.option!==void 0?t.option:P=>f(ce,{key:P.index,...P.itemProps},()=>f(E,()=>f(dt,()=>f("span",{[P.html===!0?"innerHTML":"textContent"]:P.label}))));let L=Ke("div",Y.value.map(u));return t["before-options"]!==void 0&&(L=t["before-options"]().concat(L)),hl(t["after-options"],L)}function Aa(u,L){const P=L===!0?{...j.value,...p.splitAttrs.attributes.value}:void 0,ae={ref:L===!0?R:void 0,key:"i_t",class:H.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...P,id:L===!0?p.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":u===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...pe.value};return u!==!0&&$===!0&&(Array.isArray(ae.class)===!0?ae.class=[...ae.class,"no-pointer-events"]:ae.class+=" no-pointer-events"),f("input",ae)}function $l(u){T!==null&&(clearTimeout(T),T=null),v!==null&&(clearTimeout(v),v=null),!(u&&u.target&&u.target.qComposing===!0)&&(Xt(u.target.value||""),F=!0,J=m.value,p.focused.value!==!0&&($!==!0||h.value===!0)&&p.focus(),e.onFilter!==void 0&&(T=setTimeout(()=>{T=null,Pt(m.value)},e.inputDebounce)))}function Xt(u,L){m.value!==u&&(m.value=u,L===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",u):v=setTimeout(()=>{v=null,o("inputValue",u)},e.inputDebounce))}function Ut(u,L,P){F=P!==!0,e.useInput===!0&&(Xt(u,!0),(L===!0||P!==!0)&&(J=u),L!==!0&&Pt(u))}function Pt(u,L,P){if(e.onFilter===void 0||L!==!0&&p.focused.value!==!0)return;p.innerLoading.value===!0?o("filterAbort"):(p.innerLoading.value=!0,y.value=!0),u!==""&&e.multiple!==!0&&A.value.length!==0&&F!==!0&&u===k.value(A.value[0])&&(u="");const ae=setTimeout(()=>{d.value===!0&&(d.value=!1)},10);q!==null&&clearTimeout(q),q=ae,o("filter",u,(be,me)=>{(L===!0||p.focused.value===!0)&&q===ae&&(clearTimeout(q),typeof be=="function"&&be(),y.value=!1,Ze(()=>{p.innerLoading.value=!1,p.editable.value===!0&&(L===!0?d.value===!0&&kt():d.value===!0?tl(!0):d.value=!0),typeof me=="function"&&Ze(()=>{me(i)}),typeof P=="function"&&Ze(()=>{P(i)})}))},()=>{p.focused.value===!0&&q===ae&&(clearTimeout(q),p.innerLoading.value=!1,y.value=!1),d.value===!0&&(d.value=!1)})}function Ma(){return f(ca,{ref:oe,class:Z.value,style:e.popupContentStyle,modelValue:d.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Se.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:se.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:we.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...K.value,onScrollPassive:Qe,onBeforeShow:Ml,onBeforeHide:qa,onShow:Ta},Vl)}function qa(u){ql(u),Bt()}function Ta(){ot()}function La(u){et(u),R.value!==null&&R.value.focus(),h.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Pa(u){et(u),Ze(()=>{h.value=!1})}function Ba(){const u=[f(Bi,{class:`col-auto ${p.fieldClass.value}`,...W.value,for:p.targetUid.value,dark:se.value,square:!0,loading:y.value,itemAligned:!1,filled:!0,stackLabel:m.value.length!==0,...p.splitAttrs.listeners.value,onFocus:La,onBlur:Pa},{...t,rawControl:()=>p.getControl(!0),before:void 0,after:void 0})];return d.value===!0&&u.push(f("div",{ref:Ce,class:Z.value+" scroll",style:e.popupContentStyle,...K.value,onClick:sl,onScrollPassive:Qe},Vl())),f(Vo,{ref:ye,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:G,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ml,onBeforeHide:Ia,onHide:za,onShow:Oa},()=>f("div",{class:"q-select__dialog"+(se.value===!0?" q-select__dialog--dark q-dark":"")+(h.value===!0?" q-select__dialog--focused":"")},u))}function Ia(u){ql(u),ye.value!==null&&ye.value.__updateRefocusTarget(p.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),p.focused.value=!1}function za(u){kt(),p.focused.value===!1&&o("blur",u),zt()}function Oa(){const u=document.activeElement;(u===null||u.id!==p.targetUid.value)&&R.value!==null&&R.value!==u&&R.value.focus(),ot()}function Bt(){s.value!==!0&&(l.value=-1,d.value===!0&&(d.value=!1),p.focused.value===!1&&(q!==null&&(clearTimeout(q),q=null),p.innerLoading.value===!0&&(o("filterAbort"),p.innerLoading.value=!1,y.value=!1)))}function It(u){p.editable.value===!0&&($===!0?(p.onControlFocusin(u),s.value=!0,Ze(()=>{p.focus()})):p.focus(),e.onFilter!==void 0?Pt(m.value):(Se.value!==!0||t["no-option"]!==void 0)&&(d.value=!0))}function kt(){s.value=!1,Bt()}function zt(){e.useInput===!0&&Ut(e.multiple!==!0&&e.fillInput===!0&&A.value.length!==0&&k.value(A.value[0])||"",!0,!0)}function tl(u){let L=-1;if(u===!0){if(A.value.length!==0){const P=qe.value(A.value[0]);L=e.options.findIndex(ae=>Ct(qe.value(ae),P))}ne(L)}lt(L)}function Ra(u,L){d.value===!0&&p.innerLoading.value===!1&&(ne(-1,!0),Ze(()=>{d.value===!0&&p.innerLoading.value===!1&&(u>L?ne():tl(!0))}))}function Al(){s.value===!1&&oe.value!==null&&oe.value.updatePosition()}function Ml(u){u!==void 0&&et(u),o("popupShow",u),p.hasPopupOpen=!0,p.onControlFocusin(u)}function ql(u){u!==void 0&&et(u),o("popupHide",u),p.hasPopupOpen=!1,p.onControlFocusout(u)}function Tl(){$=n.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Se.value===!1:!0),G=n.platform.is.ios===!0&&$===!0&&e.useInput===!0?"fade":e.transitionShow}return Ya(Tl),_a(Al),Tl(),Jt(()=>{T!==null&&clearTimeout(T),v!==null&&clearTimeout(v)}),Object.assign(i,{showPopup:It,hidePopup:kt,removeAtIndex:ie,add:Te,toggleOption:Pe,getOptionIndex:()=>l.value,setOptionIndex:lt,moveOptionSelection:bt,filter:Pt,updateMenuPosition:Al,updateInputValue:Ut,isOptionSelected:U,getEmittingOptionValue:ge,isOptionDisabled:(...u)=>B.value.apply(null,u)===!0,getOptionValue:(...u)=>qe.value.apply(null,u),getOptionLabel:(...u)=>k.value.apply(null,u)}),Object.assign(p,{innerValue:A,fieldClass:c(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:_,targetRef:R,hasValue:fe,showPopup:It,floatingLabel:c(()=>e.hideSelected!==!0&&fe.value===!0||typeof m.value=="number"||m.value.length!==0||Dl(e.displayValue)),getControlChild:()=>{if(p.editable.value!==!1&&(s.value===!0||Se.value!==!0||t["no-option"]!==void 0))return $===!0?Ba():Ma();p.hasPopupOpen===!0&&(p.hasPopupOpen=!1)},controlEvents:{onFocusin(u){p.onControlFocusin(u)},onFocusout(u){p.onControlFocusout(u,()=>{zt(),Bt()})},onClick(u){if(sl(u),$!==!0&&d.value===!0){Bt(),R.value!==null&&R.value.focus();return}It(u)}},getControl:u=>{const L=$a(),P=u===!0||s.value!==!0||$!==!0;if(e.useInput===!0)L.push(Aa(u,P));else if(p.editable.value===!0){const be=P===!0?j.value:void 0;L.push(f("input",{ref:P===!0?R:void 0,key:"d_t",class:"q-select__focus-target",id:P===!0?p.targetUid.value:void 0,value:Me.value,readonly:!0,"data-autofocus":u===!0||e.autofocus===!0||void 0,...be,onKeydown:Tt,onKeyup:he,onKeypress:nt})),P===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&L.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Be}))}if(Ne.value!==void 0&&e.disable!==!0&&Q.value.length!==0){const be=Q.value.map(me=>f("option",{value:me,selected:!0}));L.push(f("select",{class:"hidden",name:Ne.value,multiple:e.multiple},be))}const ae=e.useInput===!0||P!==!0?void 0:p.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...ae,...p.splitAttrs.listeners.value},L)},getInnerAppend:()=>e.loading!==!0&&y.value!==!0&&e.hideDropdownIcon!==!0?[f(ke,{class:"q-select__dropdown-icon"+(d.value===!0?" rotate-180":""),name:$e.value})]:null}),ua(p)}});const Ui=Ue({name:"DebugOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{applicationStore:ht,userStore:Gt}},data(){return{messageInput:"",tab:null,subscribed:!1,theme:{defaultMode:{options:["light","dark"]},globalStyle:{options:["none","aero","mica"]},headerStyle:{options:["none","gradient-left","gradient-right"]},windowStyle:{options:["none","gradient-top","gradient-right","gradient-bottom","gradient-left"]}}}},methods:{getProfilePicture(e){return e==="testerino"?"https://cdn.quasar.dev/img/avatar4.jpg":null},msgSender(e){return e.messageJSON?e.messageJSON.displayName:e.senderId.stringify()},msgText(e){return e.messageJSON?e.messageJSON.message:e.message}}}),xi={key:1,class:"text-subtitle1 text-grey text-center q-mt-md"},Hi={class:"col"},Wi={class:"row",style:{display:"flex",gap:"20px"}},ji={class:"col"},Ki={class:"col"},Qi={class:"col"};function Ji(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"directions_bus",title:"Debug",managerProps:e.propsToPass,defaultHeight:500,defaultWidth:600,defaultLeft:40,defaultTop:400,hoverShowBar:!1,style:{"box-shadow":"0 1px 5px rgb(0 0 0 / 20%), 0 2px 2px rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%)",border:"none"}},{default:r(()=>[a(At,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>e.tab=l),dense:""},{default:r(()=>[a(Oe,{name:"Domains",icon:"travel_explore",label:"Domains"}),a(Oe,{name:"Messages",icon:"chat",label:"Messages"}),a(Oe,{name:"Avatars",icon:"people",label:"Avatars"}),a(Oe,{name:"Theme",icon:"palette",label:"Theme"})]),_:1},8,["modelValue"]),a(Ft,{style:{height:"calc(100% - 56px)","background-color":"transparent"},modelValue:e.tab,"onUpdate:modelValue":t[11]||(t[11]=l=>e.tab=l),animated:""},{default:r(()=>[a(He,{name:"Domains"}),a(He,{name:"Messages"},{default:r(()=>[e.applicationStore.messages.messages.length>0?(C(),ee(tt,{key:0},{default:r(()=>[(C(!0),D(We,null,ct(e.applicationStore.messages.messages,l=>(C(),D("div",{key:l.id},te(e.msgSender(l))+" : "+te(e.msgText(l)),1))),128))]),_:1})):(C(),D("p",xi,"There are no messages to show."))]),_:1}),a(He,{name:"Avatars"},{default:r(()=>[V("div",null,"DisplayName: "+te(e.userStore.avatar.displayName),1),V("div",null,"Location: "+te(e.userStore.avatar.location),1),t[12]||(t[12]=V("div",null,null,-1)),V("div",null,"Avatars: "+te(e.applicationStore.avatars.count),1),(C(!0),D(We,null,ct(e.applicationStore.avatars.avatarsInfo.values(),l=>(C(),ee(tt,{key:l.sessionId.stringify()},{default:r(()=>[V("div",null,te(l),1)]),_:2},1024))),128))]),_:1}),a(He,{name:"Theme"},{default:r(()=>[a(gt,{class:"col",style:{height:"100%"}},{default:r(()=>[a(ce,null,{default:r(()=>[a(de,{name:"brandName",dense:"",style:{width:"100%"},modelValue:e.applicationStore.theme.brandName,"onUpdate:modelValue":t[1]||(t[1]=l=>e.applicationStore.theme.brandName=l)},null,8,["modelValue"])]),_:1}),a(ce,null,{default:r(()=>[a(de,{name:"productName",dense:"",style:{width:"100%"},modelValue:e.applicationStore.theme.productName,"onUpdate:modelValue":t[2]||(t[2]=l=>e.applicationStore.theme.productName=l)},null,8,["modelValue"])]),_:1}),a(ce,null,{default:r(()=>[a(de,{name:"tagline",dense:"",style:{width:"100%"},modelValue:e.applicationStore.theme.tagline,"onUpdate:modelValue":t[3]||(t[3]=l=>e.applicationStore.theme.tagline=l)},null,8,["modelValue"])]),_:1}),a(ce,null,{default:r(()=>[a(de,{name:"globalServiceTerm",dense:"",style:{width:"100%"},modelValue:e.applicationStore.theme.globalServiceTerm,"onUpdate:modelValue":t[4]||(t[4]=l=>e.applicationStore.theme.globalServiceTerm=l)},null,8,["modelValue"])]),_:1}),a(ce,null,{default:r(()=>[V("div",Hi,[t[16]||(t[16]=O(" Colors: ")),V("div",Wi,[V("div",ji,[t[13]||(t[13]=O(" Primary: ")),a(jt,{name:"primary",modelValue:e.applicationStore.theme.colors.primary,"onUpdate:modelValue":t[5]||(t[5]=l=>e.applicationStore.theme.colors.primary=l)},null,8,["modelValue"])]),V("div",Ki,[t[14]||(t[14]=O(" Secondary: ")),a(jt,{name:"secondary",modelValue:e.applicationStore.theme.colors.secondary,"onUpdate:modelValue":t[6]||(t[6]=l=>e.applicationStore.theme.colors.secondary=l)},null,8,["modelValue"])]),V("div",Qi,[t[15]||(t[15]=O(" Accent: ")),a(jt,{name:"accent",modelValue:e.applicationStore.theme.colors.accent,"onUpdate:modelValue":t[7]||(t[7]=l=>e.applicationStore.theme.colors.accent=l)},null,8,["modelValue"])])])])]),_:1}),a(ce,null,{default:r(()=>[a(vl,{name:"globalStyle",label:"globalStyle",dense:"","options-dense":"",style:{width:"100%"},options:e.theme.globalStyle.options,modelValue:e.applicationStore.theme.globalStyle,"onUpdate:modelValue":t[8]||(t[8]=l=>e.applicationStore.theme.globalStyle=l)},null,8,["options","modelValue"])]),_:1}),a(ce,null,{default:r(()=>[a(vl,{name:"headerStyle",label:"headerStyle",dense:"","options-dense":"",style:{width:"100%"},options:e.theme.headerStyle.options,modelValue:e.applicationStore.theme.headerStyle,"onUpdate:modelValue":t[9]||(t[9]=l=>e.applicationStore.theme.headerStyle=l)},null,8,["options","modelValue"])]),_:1}),a(ce,null,{default:r(()=>[a(vl,{name:"windowStyle",label:"windowStyle",dense:"","options-dense":"",style:{width:"100%"},options:e.theme.windowStyle.options,modelValue:e.applicationStore.theme.windowStyle,"onUpdate:modelValue":t[10]||(t[10]=l=>e.applicationStore.theme.windowStyle=l)},null,8,["options","modelValue"])]),_:1}),a(ce)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["managerProps"])}var Gi=Ge(Ui,[["render",Ji]]);const Xi='<g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"></animate></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"></animate></circle></g>';var Yi=Re({name:"QSpinnerPuff",props:Zl,setup(e){const{cSize:t,classes:o}=ea(e);return()=>f("svg",{class:o.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",innerHTML:Xi})}});const _i=Ue({name:"ConferenceOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},setup(){return{applicationStore:ht}},data(){return{isAdmin:!0}},computed:{},methods:{joinConferenceRoom(e){this.applicationStore.joinConferenceRoom(e),this.$emit("overlay-action","openOverlay:Jitsi")}}}),Zi={style:{position:"relative",display:"flex","justify-content":"center","align-items":"center"}},er={key:1,class:"text-subtitle1 text-grey text-center q-mt-md"};function tr(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"groups",title:"Conference",managerProps:e.propsToPass,defaultHeight:300,defaultWidth:400,defaultLeft:300,hoverShowBar:!1,style:{"box-shadow":"0 1px 5px rgb(0 0 0 / 20%), 0 2px 2px rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%)",border:"none"}},{default:r(()=>[a(ft,{class:"column no-wrap items-stretch full-height",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[a(gt,{class:"col",style:{height:"100%"}},{default:r(()=>[Array.from(e.applicationStore.conference.activeRooms.keys()).length>0?(C(),ee(tt,{key:0},{default:r(()=>[(C(!0),D(We,null,ct(e.applicationStore.conference.activeRooms,l=>Fe((C(),ee(ce,{key:l.name,class:"q-mb-sm",clickable:""},{default:r(()=>[a(E,{avatar:"",style:{"min-width":"20px"},title:"Meeting is in progress"},{default:r(()=>[V("div",Zi,[a(Yi,{size:"md",color:"red",class:"absolute"}),a(ke,{name:"fiber_manual_record",size:"xs",color:"red"})])]),_:1}),a(E,null,{default:r(()=>[a(dt,null,{default:r(()=>[O(te(l.name),1)]),_:2},1024),a(ra,{"text-color":e.$q.dark.isActive?"white":"black",class:wt(["q-mt-xs",e.$q.dark.isActive?"bg-dark":"bg-white"]),style:{width:"fit-content"},title:"There are 0 people in this meeting."},{default:r(()=>[t[0]||(t[0]=O(" 0 ")),a(ke,{name:"people",size:"14px",class:"q-ml-xs"})]),_:1},8,["text-color","class"])]),_:2},1024),a(E,{side:""},{default:r(()=>[a(x,{color:"cyan-12","text-color":"dark",onClick:m=>e.joinConferenceRoom(l)},{default:r(()=>t[1]||(t[1]=[O("Join")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)),[[ut]])),128))]),_:1})):(C(),D("p",er,"There are no meetings in this domain."))]),_:1})]),_:1})]),_:1},8,["managerProps"])}var lr=Ge(_i,[["render",tr],["__scopeId","data-v-6fca9823"]]);const ar=Ue({name:"JitsiOverlay",props:{propsToPass:{type:Object,default:()=>({})}},components:{OverlayShell:vt},data(){return{room:void 0,jitsiElement:void 0}},methods:{getWebEntityController(){const e=Za.getGameObjectByID(this.room.entity.id),t=e==null?void 0:e.getComponent(zl.typeName);return t instanceof zl?t:void 0}},mounted(){this.room=ht.conference.currentRoom;const e=this.getWebEntityController();e&&e.externalElement&&(this.jitsiElement=e.externalElement,e.externalElement=null,this.$refs.JitsiContainer.appendChild(this.jitsiElement))},beforeUnmount(){if(this.room&&this.jitsiElement){const e=this.getWebEntityController();e?e.externalElement=this.jitsiElement:(this.jitsiElement.remove(),this.jitsiElement=void 0)}}}),or={class:"absolute-center"},nr={style:{width:"100%",height:"100%"},ref:"JitsiContainer"};function ir(e,t,o,i,n,d){const s=at("OverlayShell");return C(),ee(s,{icon:"groups",title:e.propsToPass.name,managerProps:e.propsToPass,defaultHeight:600,defaultWidth:800,defaultLeft:300,hoverShowBar:!1,style:{"box-shadow":"0 1px 5px rgb(0 0 0 / 20%), 0 2px 2px rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%)",border:"none"}},{default:r(()=>[V("div",or,[a(Zt,{size:"xl"})]),a(ft,{class:"column no-wrap items-stretch full-height",style:{background:"transparent","box-shadow":"none"}},{default:r(()=>[(C(),ee(eo,null,[V("div",nr,null,512)],1024))]),_:1})]),_:1},8,["title","managerProps"])}var rr=Ge(ar,[["render",ir],["__scopeId","data-v-7df4379f"]]);const wa="meet.jit.si",sr="stage.8x8.vc",ur="8x8.vc",dr=(e,t)=>t?`${t}/${e}`:e,cr=e=>e?sr:ur;let mr=0;const fr=e=>`${e}-${mr++}`,vr=async e=>new Promise((t,o)=>{if(window.JitsiMeetExternalAPI)return t(window.JitsiMeetExternalAPI);const i=document.createElement("script");i.async=!0,i.src=`https://${e}/external_api.js`,i.onload=()=>t(window.JitsiMeetExternalAPI),i.onerror=()=>o(new Error(`Script load error: ${i.src}`)),document.head.appendChild(i)});let Yt;const pr=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wa;return Yt||(Yt=vr(e),Yt)},gr=["id"];var ka=Ue({__name:"jitsi-meeting",props:{domain:{default:wa},roomName:null,width:{default:600},height:{default:400},configOverwrite:null,interfaceConfigOverwrite:null,jwt:null,invitees:null,devices:null,userInfo:null,lang:{default:"en"}},emits:["onApiReady","onReadyToClose","getIframeRefOnApiReady"],setup(e,t){let{emit:o}=t;const i=e,{domain:n,roomName:d,width:s,height:l,configOverwrite:m,interfaceConfigOverwrite:h,jwt:y,invitees:T,devices:v,userInfo:b,lang:$}=i,F=z(""),q=z(!1),J=z(!1),G=z(),S=z(),M=z(null);gl(()=>{F.value=fr("jitsiMeeting"),pr(n).then(async R=>{G.value=R,J.value=!0,await Ze(),_(G.value)}).catch(R=>console.error(R.message))});const _=R=>{S.value=new R(n,{roomName:d,width:s,height:l,configOverwrite:m,interfaceConfigOverwrite:h,jwt:y,invitees:T,devices:v,userInfo:b,parentNode:M.value,lang:$}),q.value=!1,S.value&&(o("onApiReady",S.value),S.value.on("readyToClose",()=>{o("onReadyToClose")}),M.value&&o("getIframeRefOnApiReady",M.value))};return(R,oe)=>(C(),D(We,null,[q.value||!S.value?ta(R.$slots,"spinner",{key:0}):ze("",!0),(C(),D("div",{id:F.value,key:F.value,ref_key:"meetingRef",ref:M},null,8,gr))],64))}}),hr=Ue({__name:"jaas-meeting",props:{appId:null,useStaging:{type:Boolean,default:!0}},setup(e){const t=e,{appId:o,useStaging:i,roomName:n}=t,d=z(cr(i)),s=z(dr(n,o));return(l,m)=>(C(),ee(lo(ka),to({...l.$props,...l.$attrs},{domain:d.value,"room-name":s.value}),null,16,["domain","room-name"]))}}),br=Object.freeze({__proto__:null,JitsiMeeting:ka,JaaSMeeting:hr});const yr=function(t){Object.entries(br).forEach(o=>{let[i,n]=o;t.component(i,n)})},Sr=Ue({name:"LoginDialog",emits:["close"],setup(){return{applicationStore:ht,tab:z("metaverseLogin")}}}),wr={class:"title"};function kr(e,t,o,i,n,d){const s=at("MetaverseLogin"),l=at("MetaverseRegister");return C(),D(We,null,[a(fa,{class:"bar"},{default:r(()=>[V("div",wr,te(e.applicationStore.theme.globalServiceTerm)+" Login",1),a(Co),a(x,{dense:"",flat:"",icon:"close",onClick:t[0]||(t[0]=m=>e.$emit("close"))})]),_:1}),a(va,{class:"q-pt-none"},{default:r(()=>[a(At,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=m=>e.tab=m),"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:r(()=>[a(Oe,{name:"metaverseLogin",label:"Login"}),a(Oe,{name:"metaverseRegister",label:"Register"})]),_:1},8,["modelValue"]),a(Nt),a(Ft,{modelValue:e.tab,"onUpdate:modelValue":t[4]||(t[4]=m=>e.tab=m),animated:""},{default:r(()=>[a(He,{name:"metaverseLogin"},{default:r(()=>[a(s,{onSuccess:t[2]||(t[2]=m=>e.$emit("close"))})]),_:1}),a(He,{name:"metaverseRegister"},{default:r(()=>[a(l,{onSuccess:t[3]||(t[3]=m=>e.tab="metaverseLogin")})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}var Cr=Ge(Sr,[["render",kr]]);const Vr=Ue({name:"AudioLevel",props:{color:{type:String,required:!1},compact:{type:Boolean,required:!1},level:{type:Number,required:!1}},computed:{height(){return`${this.level??na.inputLevel.value}%`}}});function $r(e,t,o,i,n,d){return C(),D("div",{class:wt(["verticalAudioLevel q-my-auto",{"q-ml-sm":e.compact}])},[V("span",{class:wt(`text-${e.color??"primary"}`),style:pt({height:e.height})},null,6)],2)}var Ar=Ge(Vr,[["render",$r],["__scopeId","data-v-0c112b59"]]),Ca=Re({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:o}){const i=Je(),n=z(null);let d=0;const s=[];function l(b){const $=typeof b=="boolean"?b:e.noErrorFocus!==!0,F=++d,q=(S,M)=>{o(`validation${S===!0?"Success":"Error"}`,M)},J=S=>{const M=S.validate();return typeof M.then=="function"?M.then(_=>({valid:_,comp:S}),_=>({valid:!1,comp:S,err:_})):Promise.resolve({valid:M,comp:S})};return(e.greedy===!0?Promise.all(s.map(J)).then(S=>S.filter(M=>M.valid!==!0)):s.reduce((S,M)=>S.then(()=>J(M).then(_=>{if(_.valid===!1)return Promise.reject(_)})),Promise.resolve()).catch(S=>[S])).then(S=>{if(S===void 0||S.length===0)return F===d&&q(!0),!0;if(F===d){const{comp:M,err:_}=S[0];if(_!==void 0&&console.error(_),q(!1,M),$===!0){const R=S.find(({comp:oe})=>typeof oe.focus=="function"&&ao(oe.$)===!1);R!==void 0&&R.comp.focus()}}return!1})}function m(){d++,s.forEach(b=>{typeof b.resetValidation=="function"&&b.resetValidation()})}function h(b){b!==void 0&&Xe(b);const $=d+1;l().then(F=>{$===d&&F===!0&&(e.onSubmit!==void 0?o("submit",b):b!==void 0&&b.target!==void 0&&typeof b.target.submit=="function"&&b.target.submit())})}function y(b){b!==void 0&&Xe(b),o("reset"),Ze(()=>{m(),e.autofocus===!0&&e.noResetFocus!==!0&&T()})}function T(){po(()=>{if(n.value===null)return;const b=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),$=>$.tabIndex!==-1);b!=null&&b.focus({preventScroll:!0})})}_l(oo,{bindComponent(b){s.push(b)},unbindComponent(b){const $=s.indexOf(b);$!==-1&&s.splice($,1)}});let v=!1;return bl(()=>{v=!0}),yl(()=>{v===!0&&e.autofocus===!0&&T()}),gl(()=>{e.autofocus===!0&&T()}),Object.assign(i.proxy,{validate:l,resetValidation:m,submit:h,reset:y,focus:T,getValidationComponents:()=>s}),()=>f("form",{class:"q-form",ref:n,onSubmit:h,onReset:y},Dt(t.default))}});const Mr=Ue({name:"MetaverseLogin",emits:["success"],data(){return{username:"",password:"",showPassword:!1,loading:!1,loginError:!1}},methods:{async submit(){this.loading=!0,await oa.login(this.username,this.password)?(this.$q.notify({type:"positive",textColor:"white",icon:"cloud_done",message:"Welcome "+this.username+"."}),this.loginError=!1,this.$emit("success")):(this.$q.notify({type:"negative",textColor:"white",icon:"warning",message:"Please check your username/password."}),this.loginError=!0),this.loading=!1}}});function qr(e,t,o,i,n,d){return C(),ee(Ca,{onSubmit:e.submit,class:"column q-gutter-y-md"},{default:r(()=>[a(de,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=s=>e.username=s),filled:"",dense:"",label:"Username",hint:"Enter your username.",disable:e.loading,error:e.loginError,onFocus:t[1]||(t[1]=s=>e.loginError=!1)},null,8,["modelValue","disable","error"]),a(de,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=s=>e.password=s),filled:"",dense:"",label:"Password",type:e.showPassword?"text":"password",hint:"Enter your password.",disable:e.loading,error:e.loginError,onFocus:t[4]||(t[4]=s=>e.loginError=!1)},{append:r(()=>[a(ke,{name:e.showPassword?"visibility":"visibility_off",class:"cursor-pointer",onClick:t[2]||(t[2]=s=>e.showPassword=!e.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","disable","error"]),a(x,{label:"Login",type:"submit",color:"primary",class:"q-ml-auto",disable:e.username.length<=0||e.password.length<=0,loading:e.loading},null,8,["disable","loading"])]),_:1},8,["onSubmit"])}var Tr=Ge(Mr,[["render",qr]]);const Lr=Ue({name:"MetaverseRegister",emits:["success","failure"],data(){return{username:"",email:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1,loading:!1}},methods:{async submit(){this.loading=!0;const e=await oa.createAccount(this.username,this.password,this.email);if(this.loading=!1,!e){this.$q.notify({type:"negative",textColor:"white",icon:"warning",message:"Something went wrong..."}),this.$emit("failure");return}e.accountAwaitingVerification?this.$q.notify({type:"info",textColor:"white",icon:"email",timeout:0,message:"Check your email to complete registration.",actions:[{label:"Dismiss",color:"white"}]}):this.$q.notify({type:"positive",textColor:"white",icon:"cloud_done",message:"Registration successful."}),this.$refs.registrationForm.reset(),this.$emit("success")}}});function Pr(e,t,o,i,n,d){return C(),ee(Ca,{class:"column q-gutter-y-md",ref:"registrationForm",onSubmit:e.submit},{default:r(()=>[a(de,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=s=>e.username=s),filled:"",dense:"",label:"Username",hint:"Enter your username.","lazy-rules":"",rules:[s=>s&&s.length>0||"Please enter a username."],disable:e.loading},null,8,["modelValue","rules","disable"]),a(de,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=s=>e.email=s),filled:"",dense:"",label:"Email",hint:"Enter your email.","lazy-rules":"",rules:[s=>s&&s.length>0||"Please enter an email."],disable:e.loading},null,8,["modelValue","rules","disable"]),a(de,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=s=>e.password=s),filled:"",dense:"",label:"Password",type:e.showPassword?"text":"password",hint:"Enter your password.","lazy-rules":"",rules:[s=>s&&s.length>0||"Please enter a password."],disable:e.loading},{append:r(()=>[a(ke,{name:e.showPassword?"visibility":"visibility_off",class:"cursor-pointer",onClick:t[2]||(t[2]=s=>e.showPassword=!e.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules","disable"]),a(de,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[5]||(t[5]=s=>e.confirmPassword=s),filled:"",dense:"",label:"Confirm Password",type:e.showConfirmPassword?"text":"password",hint:"Enter your password again.","lazy-rules":"",rules:[s=>s&&s.length>0&&s===e.password||"Please ensure your passwords match."],disable:e.loading},{append:r(()=>[a(ke,{name:e.showConfirmPassword?"visibility":"visibility_off",class:"cursor-pointer",onClick:t[4]||(t[4]=s=>e.showConfirmPassword=!e.showConfirmPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules","disable"]),a(x,{label:"Register",type:"submit",color:"primary",class:"q-ml-auto",loading:e.loading},null,8,["loading"])]),_:1},8,["onSubmit"])}var Br=Ge(Lr,[["render",Pr]]),Er=no(({app:e})=>{e.component("AudioOverlay",_o),e.component("ControlsOverlay",hn),e.component("GraphicsOverlay",Mn),e.component("ExploreOverlay",_n),e.component("PeopleOverlay",di),e.component("AvatarOverlay",Ci),e.component("ReadyPlayerMeOverlay",Pi),e.component("DebugOverlay",Gi),e.component("ConferenceOverlay",lr),e.component("JitsiOverlay",rr),e.component("JitsiContainer",$o),yr(e),e.component("LoginDialog",Cr),e.component("AudioLevel",Ar),e.component("MetaverseLogin",Tr),e.component("MetaverseRegister",Br)});export{Er as default};
